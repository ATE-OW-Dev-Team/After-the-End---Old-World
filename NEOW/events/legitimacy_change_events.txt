namespace = GOVLEGIT

####
character_event = {
	id = GOVLEGIT.999 
	
	hide_window = yes
	is_triggered_only = yes

	trigger = {
		primary_title = {
			OR = {
				tier = EMPEROR
				tier = KING
			}
			temporary = no
			is_tribal = no
			is_nomadic = no
		}
		is_nomadic = no
		is_tribal = no
		OR = {
			government = eastern_feudal
			government = mandate_heaven
			government = bhutanese_decayed_government
			government = bhutanese_restored_government
		}
		independent = yes
	}
	
	immediate = {
		primary_title = { save_event_target_as = government_legitimacy_title }
		
		character_event = { id = GOVLEGIT.1001 days = 1 }
		
		# remove the corruption modifier from the former owner, if alive
	}
}

# Main corruption event upon an imperial title being inherited/usurped
# ROOT is the character, FROM is the title, FROMFROM is the old holder
character_event = {
	id = GOVLEGIT.1000 
	
	hide_window = yes
	is_triggered_only = yes

	trigger = {
		AND = {
			FROMFROM = { always = yes } #If there is a FROMFROM
			FROM = {
				OR = {
					tier = EMPEROR
					tier = KING
				}
				independent = yes
				temporary = no
				is_tribal = no
				is_nomadic = no
				is_primary_holder_title = yes
				OR = {
					government = eastern_feudal
					government = mandate_heaven
					government = bhutanese_decayed_government
					government = bhutanese_restored_government
				}
			}
			is_nomadic = no
			is_tribal = no
		}
	}
	
	immediate = {
		FROM = { save_event_target_as = government_legitimacy_title }
		
		character_event = { id = GOVLEGIT.1001 days = 1 }
		
		# remove the corruption modifier from the former owner, if alive
		FROMFROM = {
			if = {
				limit = {
					is_alive = yes
					lower_tier_than = KING
				}
				remove_character_modifier = government_legitimacy_0
				remove_character_modifier = government_legitimacy_1
				remove_character_modifier = government_legitimacy_2
				remove_character_modifier = government_legitimacy_3
				remove_character_modifier = government_legitimacy_4
				remove_character_modifier = government_legitimacy_5
				remove_character_modifier = government_legitimacy_6
				remove_character_modifier = government_legitimacy_7
				remove_character_modifier = government_legitimacy_8
				remove_character_modifier = government_legitimacy_9
				remove_character_modifier = government_legitimacy_10
			}
		}
	}
}

# ROOT/FROM is the character, FROMFROM is the title, FROMFROMFROM is the old holder
character_event = {
	id = GOVLEGIT.1001
	
	hide_window = yes
	is_triggered_only = yes
	only_rulers = yes
	
	trigger = {
		has_landed_title = event_target:government_legitimacy_title
		is_nomadic = no
		is_tribal = no
	}
	
	immediate = {
		event_target:government_legitimacy_title = {
			
			# reset the corruption value to 0, in case it's negative
			if = {
				limit = { NOT = { check_variable = { which = "government_legitimacy" value = 0.5 } } }
				set_variable = { which = "government_legitimacy" value = 0 }
			}
			
			# set new ruler corruption to 0
			set_variable = { which = "government_legitimacy" value = 0 }
			
			#determine how much the realm size should change it
			if = {
				limit = { ROOT = { real_tier = KING } } #4 counties
				change_variable = { which = "government_legitimacy" value = 10 } #5
			}
			if = {
				limit = { ROOT = { capital_scope = { TECH_NOBLE_CUSTOMS == 2 } } } #4 counties
				change_variable = { which = "government_legitimacy" value = 2 } #5
			}
			if = {
				limit = { ROOT = { any_tributary = { count = 4 } } } #4 counties
				change_variable = { which = "government_legitimacy" value = 5 } #5
			}
			if = {
				limit = { ROOT = { any_tributary = { count = 8 } } } #4 counties
				change_variable = { which = "government_legitimacy" value = 5 } #5
			}
			if = {
				limit = { ROOT = { any_tributary = { count = 12 } } } #4 counties
				change_variable = { which = "government_legitimacy" value = 5 } #5
			}
			if = {
				limit = { ROOT = { any_tributary = { count = 16 } } } #4 counties
				change_variable = { which = "government_legitimacy" value = 5 } #5
			}
			if = {
				limit = { ROOT = { any_tributary = { count = 20 } } } #4 counties
				change_variable = { which = "government_legitimacy" value = 5 } #5
			}
			if = {
				limit = { ROOT = { any_tributary = { count = 24 } } } #4 counties
				change_variable = { which = "government_legitimacy" value = 5 } #5
			}
			if = {
				limit = { ROOT = { any_tributary = { count = 28 } } } #4 counties
				change_variable = { which = "government_legitimacy" value = 5 } #5
			}
			if = {
				limit = { ROOT = { any_tributary = { count = 32 } } } #4 counties
				change_variable = { which = "government_legitimacy" value = 5 } #5
			}
			if = {
				limit = { ROOT = { has_character_modifier = government_corruption_0 } } #4 counties
				change_variable = { which = "government_legitimacy" value = 10 } #5
			}
			if = {
				limit = { ROOT = { has_character_modifier = government_corruption_1 } } #4 counties
				change_variable = { which = "government_legitimacy" value = 5 } #5
			}
			if = {
				limit = { ROOT = { has_character_modifier = government_corruption_4 } } #4 counties
				change_variable = { which = "government_legitimacy" value = -5 } #5
			}
			if = {
				limit = { ROOT = { has_character_modifier = government_corruption_5 } } #4 counties
				change_variable = { which = "government_legitimacy" value = 10 } #5
			}
			if = {
				limit = { ROOT = { has_character_modifier = government_corruption_6 } } #4 counties
				change_variable = { which = "government_legitimacy" value = 15 } #5
			}
			if = {
				limit = { ROOT = { has_character_modifier = government_corruption_7 } } #4 counties
				change_variable = { which = "government_legitimacy" value = 20 } #5
			}
			if = {
				limit = { ROOT = { has_character_modifier = government_corruption_8 } } #4 counties
				change_variable = { which = "government_legitimacy" value = 25 } #5
			}
			if = {
				limit = { ROOT = { has_character_modifier = government_corruption_9 } } #4 counties
				change_variable = { which = "government_legitimacy" value = 30 } #5
			}
			if = {
				limit = { ROOT = { has_character_modifier = government_corruption_10 } } #4 counties
				change_variable = { which = "government_legitimacy" value = 20 } #5
			}
			if = {
				limit = { ROOT = { capital_scope = { TECH_NOBLE_CUSTOMS == 3 } } } #4 counties
				change_variable = { which = "government_legitimacy" value = 4 } #5
			}
			if = {
				limit = { ROOT = { capital_scope = { TECH_NOBLE_CUSTOMS == 4 } } } #4 counties
				change_variable = { which = "government_legitimacy" value = 6 } #5
			}
			if = {
				limit = { ROOT = { capital_scope = { TECH_NOBLE_CUSTOMS == 5 } } } #4 counties
				change_variable = { which = "government_legitimacy" value = 8 } #5
			}
			if = {
				limit = { ROOT = { capital_scope = { TECH_NOBLE_CUSTOMS == 6 } } } #4 counties
				change_variable = { which = "government_legitimacy" value = 10 } #5
			}
			if = {
				limit = { ROOT = { capital_scope = { TECH_NOBLE_CUSTOMS == 7 } } } #4 counties
				change_variable = { which = "government_legitimacy" value = 12 } #5
			}
			if = {
				limit = { ROOT = { capital_scope = { TECH_NOBLE_CUSTOMS == 8 } } } #4 counties
				change_variable = { which = "government_legitimacy" value = 14 } #5
			}
			if = {
				limit = { ROOT = { capital_scope = { TECH_POPULAR_CUSTOMS == 2 } } } #4 counties
				change_variable = { which = "government_legitimacy" value = 2 } #5
			}
			if = {
				limit = { ROOT = { capital_scope = { TECH_POPULAR_CUSTOMS == 3 } } } #4 counties
				change_variable = { which = "government_legitimacy" value = 4 } #5
			}
			if = {
				limit = { ROOT = { capital_scope = { TECH_POPULAR_CUSTOMS == 4 } } } #4 counties
				change_variable = { which = "government_legitimacy" value = 6 } #5
			}
			if = {
				limit = { ROOT = { capital_scope = { TECH_POPULAR_CUSTOMS == 5 } } } #4 counties
				change_variable = { which = "government_legitimacy" value = 8 } #5
			}
			if = {
				limit = { ROOT = { capital_scope = { TECH_POPULAR_CUSTOMS == 6 } } } #4 counties
				change_variable = { which = "government_legitimacy" value = 10 } #5
			}
			if = {
				limit = { ROOT = { capital_scope = { TECH_POPULAR_CUSTOMS == 7 } } } #4 counties
				change_variable = { which = "government_legitimacy" value = 12 } #5
			}
			if = {
				limit = { ROOT = { capital_scope = { TECH_POPULAR_CUSTOMS == 8 } } } #4 counties
				change_variable = { which = "government_legitimacy" value = 14 } #5
			}
			if = {
				limit = { ROOT = { capital_scope = { TECH_LEGALISM == 2 } } } #4 counties
				change_variable = { which = "government_legitimacy" value = 4 } #5
			}
			if = {
				limit = { ROOT = { capital_scope = { TECH_LEGALISM == 3 } } } #4 counties
				change_variable = { which = "government_legitimacy" value = 8 } #5
			}
			if = {
				limit = { ROOT = { capital_scope = { TECH_LEGALISM == 4 } } } #4 counties
				change_variable = { which = "government_legitimacy" value = 12 } #5
			}
			if = {
				limit = { ROOT = { capital_scope = { TECH_LEGALISM == 5 } } } #4 counties
				change_variable = { which = "government_legitimacy" value = 16 } #5
			}
			if = {
				limit = { ROOT = { capital_scope = { TECH_LEGALISM == 6 } } } #4 counties
				change_variable = { which = "government_legitimacy" value = 20 } #5
			}
			if = {
				limit = { ROOT = { capital_scope = { TECH_LEGALISM == 7 } } } #4 counties
				change_variable = { which = "government_legitimacy" value = 24 } #5
			}
			if = {
				limit = { ROOT = { capital_scope = { TECH_LEGALISM == 8 } } } #4 counties
				change_variable = { which = "government_legitimacy" value = 28 } #5
			}
			if = {
				limit = { ROOT = { NOT = { prestige = 500 } } } #4 counties
				change_variable = { which = "government_legitimacy" value = -3 } #5
			}
			if = {
				limit = { ROOT = { NOT = { prestige = 1000 } } } #4 counties
				change_variable = { which = "government_legitimacy" value = -3 } #5
			}
			if = {
				limit = { ROOT = { NOT = { prestige = 1500 } } } #4 counties
				change_variable = { which = "government_legitimacy" value = -3 } #5
			}
			if = {
				limit = { ROOT = { prestige = 2000 } } #4 counties
				change_variable = { which = "government_legitimacy" value = 5 } #5
			}
			if = {
				limit = { ROOT = { prestige = 2500 } } #4 counties
				change_variable = { which = "government_legitimacy" value = 5 } #5
			}
			if = {
				limit = { ROOT = { prestige = 3000 } } #4 counties
				change_variable = { which = "government_legitimacy" value = 5 } #5
			}
			if = {
				limit = { ROOT = { prestige = 3500 } } #4 counties
				change_variable = { which = "government_legitimacy" value = 5 } #5
			}
			if = {
				limit = { ROOT = { prestige = 4000 } } #4 counties
				change_variable = { which = "government_legitimacy" value = 5 } #5
			}
			if = {
				limit = { ROOT = { prestige = 4500 } } #4 counties
				change_variable = { which = "government_legitimacy" value = 5 } #5
			}
			if = {
				limit = { ROOT = { prestige = 5000 } } #4 counties
				change_variable = { which = "government_legitimacy" value = 5 } #5
			}
			if = {
				limit = { ROOT = { realm_size = 12 } } #4 counties
				change_variable = { which = "government_legitimacy" value = -2 } #5
			}
			if = {
				limit = { ROOT = { realm_size = 23 } } #8 counties
				change_variable = { which = "government_legitimacy" value = -2 } #10
			}
			if = {
				limit = { ROOT = { realm_size = 45 } } #15 counties
				change_variable = { which = "government_legitimacy" value = -2 } #15
			}
			if = {
				limit = { ROOT = { realm_size = 90 } } #30 counties
				change_variable = { which = "government_legitimacy" value = 5 } #20
			}
			if = {
				limit = { ROOT = { realm_size = 180 } } #60 counties
				change_variable = { which = "government_legitimacy" value = 5 } #25
			}
			if = {
				limit = { ROOT = { realm_size = 270 } } #90 counties
				change_variable = { which = "government_legitimacy" value = 5 } #30
			}
			if = {
				limit = { ROOT = { realm_size = 450 } } #150 counties
				change_variable = { which = "government_legitimacy" value = 5 } #35
			}
			if = {
				limit = { ROOT = { realm_size = 600 } } #200 counties
				change_variable = { which = "government_legitimacy" value = 5 } #40
			}
			if = {
				limit = { ROOT = { realm_size = 750 } } #250 counties
				change_variable = { which = "government_legitimacy" value = 5 } #45
			}
			if = {
				limit = { ROOT = { realm_size = 900 } } #300 counties
				change_variable = { which = "government_legitimacy" value = 5 } #50
			}
			if = {
				limit = { ROOT = { realm_size = 1050 } } #350 counties
				change_variable = { which = "government_legitimacy" value = 5 } #55
			}
			if = {
				limit = { ROOT = { realm_size = 1200 } } #400 counties
				change_variable = { which = "government_legitimacy" value = 5 } #60
			}
			if = {
				limit = { ROOT = { realm_size = 1350 } } #450 counties
				change_variable = { which = "government_legitimacy" value = 5 } #65
			}
			if = {
				limit = { ROOT = { realm_size = 1500 } } #500 counties
				change_variable = { which = "government_legitimacy" value = 5 } #70
			}
			if = {
				limit = { ROOT = { realm_size = 1650 } } #550 counties 
				change_variable = { which = "government_legitimacy" value = 5 } #75
			}
			if = {
				limit = { ROOT = { realm_size = 1800 } } #600 counties
				change_variable = { which = "government_legitimacy" value = 5 } #80
			}
			if = {
				limit = { ROOT = { realm_size = 2100 } } #700 counties
				change_variable = { which = "government_legitimacy" value = 5 } #85
			}
			if = {
				limit = { ROOT = { realm_size = 2400 } } #800 counties
				change_variable = { which = "government_legitimacy" value = 5 } #90
			}
			if = {
				limit = { ROOT = { realm_size = 2700 } } #900 counties
				change_variable = { which = "government_legitimacy" value = 5 } #95
			}
			if = {
				limit = { ROOT = { realm_size = 3000 } } #1000 counties
				change_variable = { which = "government_legitimacy" value = 5 } #98
			}
			
			#Check realm stewardship
			if = {
				limit = { NOT = { ROOT = { realm_stewardship = 10 } } }
				change_variable = { which = "government_legitimacy" value = -10 }
			}
			if = {
				limit = { NOT = { ROOT = { realm_stewardship = 20 } } }
				change_variable = { which = "government_legitimacy" value = -7 }
			}
			if = {
				limit = { NOT = { ROOT = { realm_stewardship = 30 } } }
				change_variable = { which = "government_legitimacy" value = -5 }
			}
			if = {
				limit = { NOT = { ROOT = { realm_intrigue = 10 } } }
				change_variable = { which = "government_legitimacy" value = -10 }
			}
			if = {
				limit = { NOT = { ROOT = { realm_intrigue = 20 } } }
				change_variable = { which = "government_legitimacy" value = -7 }
			}
			if = {
				limit = { NOT = { ROOT = { realm_intrigue = 30 } } }
				change_variable = { which = "government_legitimacy" value = -5 }
			}
			
			if = {
				limit = { NOT = { ROOT = { realm_diplomacy = 10 } } }
				change_variable = { which = "government_legitimacy" value = -10 }
			}
			if = {
				limit = { NOT = { ROOT = { realm_diplomacy = 20 } } }
				change_variable = { which = "government_legitimacy" value = -7 }
			}
			if = {
				limit = { NOT = { ROOT = { realm_diplomacy = 30 } } }
				change_variable = { which = "government_legitimacy" value = -5 }
			}
			if = {
				limit = { ROOT = { realm_diplomacy = 40 } }
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { ROOT = { realm_diplomacy = 50 } }
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { ROOT = { realm_diplomacy = 60 } }
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { ROOT = { has_landed_title = e_bhutan } }
				change_variable = { which = "government_legitimacy" value = 10 }
			}
			if = {
				limit = { ROOT = { has_landed_title = k_bhutan } }
				change_variable = { which = "government_legitimacy" value = 10 }
			}
			if = {
				limit = { ROOT = { has_artifact = crown_bhutan } }
				change_variable = { which = "government_legitimacy" value = 10 }
			}
			
			if = {
				limit = { 
					ROOT = { 
						OR = {
							has_landed_title = c_hong_kong 
							any_vassal = {
								has_landed_title = c_hong_kong
							}
							any_vassal = {
								any_vassal = {
									has_landed_title = c_hong_kong
								}
							}
							any_vassal = {
								any_vassal = {
									any_vassal = {
										has_landed_title = c_hong_kong
									}
								}
							}
						}
					} 
				}
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { 
					ROOT = { 
						OR = {
							has_landed_title = c_macau 
							any_vassal = {
								has_landed_title = c_macau
							}
							any_vassal = {
								any_vassal = {
									has_landed_title = c_macau
								}
							}
							any_vassal = {
								any_vassal = {
									any_vassal = {
										has_landed_title = c_macau
									}
								}
							}
						}
					} 
				}
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { 
					ROOT = { 
						OR = {
							has_landed_title = c_taipei 
							any_vassal = {
								has_landed_title = c_taipei
							}
							any_vassal = {
								any_vassal = {
									has_landed_title = c_taipei
								}
							}
							any_vassal = {
								any_vassal = {
									any_vassal = {
										has_landed_title = c_taipei
									}
								}
							}
						}
					} 
				}
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { 
					ROOT = { 
						OR = {
							has_landed_title = c_tainan 
							any_vassal = {
								has_landed_title = c_tainan
							}
							any_vassal = {
								any_vassal = {
									has_landed_title = c_tainan
								}
							}
							any_vassal = {
								any_vassal = {
									any_vassal = {
										has_landed_title = c_tainan
									}
								}
							}
						}
					} 
				}
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { 
					ROOT = { 
						OR = {
							has_landed_title = c_xiamen 
							any_vassal = {
								has_landed_title = c_xiamen
							}
							any_vassal = {
								any_vassal = {
									has_landed_title = c_xiamen
								}
							}
							any_vassal = {
								any_vassal = {
									any_vassal = {
										has_landed_title = c_xiamen
									}
								}
							}
						}
					} 
				}
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { 
					ROOT = { 
						OR = {
							has_landed_title = c_guangzhou 
							any_vassal = {
								has_landed_title = c_guangzhou
							}
							any_vassal = {
								any_vassal = {
									has_landed_title = c_guangzhou
								}
							}
							any_vassal = {
								any_vassal = {
									any_vassal = {
										has_landed_title = c_guangzhou
									}
								}
							}
						}
					} 
				}
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { 
					ROOT = { 
						OR = {
							has_landed_title = c_yongchuan
							any_vassal = {
								has_landed_title = c_yongchuan
							}
							any_vassal = {
								any_vassal = {
									has_landed_title = c_yongchuan
								}
							}
							any_vassal = {
								any_vassal = {
									any_vassal = {
										has_landed_title = c_yongchuan
									}
								}
							}
						}
					} 
				}
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { 
					ROOT = { 
						OR = {
							has_landed_title = c_wenchuan 
							any_vassal = {
								has_landed_title = c_wenchuan
							}
							any_vassal = {
								any_vassal = {
									has_landed_title = c_wenchuan
								}
							}
							any_vassal = {
								any_vassal = {
									any_vassal = {
										has_landed_title = c_wenchuan
									}
								}
							}
						}
					} 
				}
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { 
					ROOT = { 
						OR = {
							has_landed_title = c_nanjing 
							any_vassal = {
								has_landed_title = c_nanjing
							}
							any_vassal = {
								any_vassal = {
									has_landed_title = c_nanjing
								}
							}
							any_vassal = {
								any_vassal = {
									any_vassal = {
										has_landed_title = c_nanjing
									}
								}
							}
						}
					} 
				}
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { 
					ROOT = { 
						OR = {
							has_landed_title = c_shanghai
							any_vassal = {
								has_landed_title = c_shanghai
							}
							any_vassal = {
								any_vassal = {
									has_landed_title = c_shanghai
								}
							}
							any_vassal = {
								any_vassal = {
									any_vassal = {
										has_landed_title = c_shanghai
									}
								}
							}
						}
					} 
				}
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { 
					ROOT = { 
						OR = {
							has_landed_title = c_ningbo
							any_vassal = {
								has_landed_title = c_ningbo
							}
							any_vassal = {
								any_vassal = {
									has_landed_title = c_ningbo
								}
							}
							any_vassal = {
								any_vassal = {
									any_vassal = {
										has_landed_title = c_ningbo
									}
								}
							}
						}
					} 
				}
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { 
					ROOT = { 
						OR = {
							has_landed_title = c_hangzhou
							any_vassal = {
								has_landed_title = c_hangzhou
							}
							any_vassal = {
								any_vassal = {
									has_landed_title = c_hangzhou
								}
							}
							any_vassal = {
								any_vassal = {
									any_vassal = {
										has_landed_title = c_hangzhou
									}
								}
							}
						}
					} 
				}
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { 
					ROOT = { 
						OR = {
							has_landed_title = c_xian
							any_vassal = {
								has_landed_title = c_xian
							}
							any_vassal = {
								any_vassal = {
									has_landed_title = c_xian
								}
							}
							any_vassal = {
								any_vassal = {
									any_vassal = {
										has_landed_title = c_xian
									}
								}
							}
						}
					} 
				}
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { 
					ROOT = { 
						OR = {
							has_landed_title = c_beijing 
							any_vassal = {
								has_landed_title = c_beijing
							}
							any_vassal = {
								any_vassal = {
									has_landed_title = c_beijing
								}
							}
							any_vassal = {
								any_vassal = {
									any_vassal = {
										has_landed_title = c_beijing
									}
								}
							}
						}
					} 
				}
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { 
					ROOT = { 
						OR = {
							has_landed_title = c_dalian
							any_vassal = {
								has_landed_title = c_dalian
							}
							any_vassal = {
								any_vassal = {
									has_landed_title = c_dalian
								}
							}
							any_vassal = {
								any_vassal = {
									any_vassal = {
										has_landed_title = c_dalian
									}
								}
							}
						}
					} 
				}
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { 
					ROOT = { 
						OR = {
							has_landed_title = c_shenyang
							any_vassal = {
								has_landed_title = c_shenyang
							}
							any_vassal = {
								any_vassal = {
									has_landed_title = c_shenyang
								}
							}
							any_vassal = {
								any_vassal = {
									any_vassal = {
										has_landed_title = c_shenyang
									}
								}
							}
						}
					} 
				}
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { 
					ROOT = { 
						OR = {
							has_landed_title = c_harbin
							any_vassal = {
								has_landed_title = c_harbin
							}
							any_vassal = {
								any_vassal = {
									has_landed_title = c_harbin
								}
							}
							any_vassal = {
								any_vassal = {
									any_vassal = {
										has_landed_title = c_harbin
									}
								}
							}
						}
					} 
				}
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { 
					ROOT = { 
						OR = {
							has_landed_title = c_seoul
							any_vassal = {
								has_landed_title = c_seoul
							}
							any_vassal = {
								any_vassal = {
									has_landed_title = c_seoul
								}
							}
							any_vassal = {
								any_vassal = {
									any_vassal = {
										has_landed_title = c_seoul
									}
								}
							}
						}
					} 
				}
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { 
					ROOT = { 
						OR = {
							has_landed_title = c_pyongyang
							any_vassal = {
								has_landed_title = c_pyongyang
							}
							any_vassal = {
								any_vassal = {
									has_landed_title = c_pyongyang
								}
							}
							any_vassal = {
								any_vassal = {
									any_vassal = {
										has_landed_title = c_pyongyang
									}
								}
							}
						}
					} 
				}
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { 
					ROOT = { 
						OR = {
							has_landed_title = c_qingdao
							any_vassal = {
								has_landed_title = c_qingdao
							}
							any_vassal = {
								any_vassal = {
									has_landed_title = c_qingdao
								}
							}
							any_vassal = {
								any_vassal = {
									any_vassal = {
										has_landed_title = c_qingdao
									}
								}
							}
						}
					} 
				}
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { 
					ROOT = { 
						OR = {
							has_landed_title = c_jinan
							any_vassal = {
								has_landed_title = c_jinan
							}
							any_vassal = {
								any_vassal = {
									has_landed_title = c_jinan
								}
							}
							any_vassal = {
								any_vassal = {
									any_vassal = {
										has_landed_title = c_jinan
									}
								}
							}
						}
					} 
				}
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { 
					ROOT = { 
						OR = {
							has_landed_title = c_aksu
							any_vassal = {
								has_landed_title = c_aksu
							}
							any_vassal = {
								any_vassal = {
									has_landed_title = c_aksu
								}
							}
							any_vassal = {
								any_vassal = {
									any_vassal = {
										has_landed_title = c_aksu
									}
								}
							}
						}
					} 
				}
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { 
					ROOT = { 
						OR = {
							has_landed_title = c_lhasa
							any_vassal = {
								has_landed_title = c_lhasa
							}
							any_vassal = {
								any_vassal = {
									has_landed_title = c_lhasa
								}
							}
							any_vassal = {
								any_vassal = {
									any_vassal = {
										has_landed_title = c_lhasa
									}
								}
							}
						}
					} 
				}
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { 
					ROOT = { 
						OR = {
							has_landed_title = c_ha_noi
							any_vassal = {
								has_landed_title = c_ha_noi
							}
							any_vassal = {
								any_vassal = {
									has_landed_title = c_ha_noi
								}
							}
							any_vassal = {
								any_vassal = {
									any_vassal = {
										has_landed_title = c_ha_noi
									}
								}
							}
						}
					} 
				}
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { 
					ROOT = { 
						OR = {
							has_landed_title = c_ho_chi_minh
							any_vassal = {
								has_landed_title = c_ho_chi_minh
							}
							any_vassal = {
								any_vassal = {
									has_landed_title = c_ho_chi_minh
								}
							}
							any_vassal = {
								any_vassal = {
									any_vassal = {
										has_landed_title = c_ho_chi_minh
									}
								}
							}
						}
					} 
				}
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { 
					ROOT = { 
						OR = {
							has_landed_title = c_vladivostok
							any_vassal = {
								has_landed_title = c_vladivostok
							}
							any_vassal = {
								any_vassal = {
									has_landed_title = c_vladivostok
								}
							}
							any_vassal = {
								any_vassal = {
									any_vassal = {
										has_landed_title = c_vladivostok
									}
								}
							}
						}
					} 
				}
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { NOT = { ROOT = { realm_learning = 10 } } }
				change_variable = { which = "government_legitimacy" value = -10 }
			}
			if = {
				limit = { NOT = { ROOT = { realm_learning = 20 } } }
				change_variable = { which = "government_legitimacy" value = -7 }
			}
			if = {
				limit = { NOT = { ROOT = { realm_learning = 30 } } }
				change_variable = { which = "government_legitimacy" value = -5 }
			}
			if = {
				limit = { ROOT = { realm_learning = 40 } }
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { ROOT = { realm_learning = 50 } }
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { ROOT = { realm_learning = 60 } }
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { ROOT = { trait = hedonist } }
				change_variable = { which = "government_legitimacy" value = -5 }
			}
			if = {
				limit = { ROOT = { trait = inbred } }
				change_variable = { which = "government_legitimacy" value = -5 }
			}
			if = {
				limit = { ROOT = { trait = slow } }
				change_variable = { which = "government_legitimacy" value = -5 }
			}
			if = {
				limit = { ROOT = { trait = imbecile } }
				change_variable = { which = "government_legitimacy" value = -5 }
			}
			if = {
				limit = { ROOT = { trait = gluttonous } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { trait = greedy } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { trait = slothful } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { trait = wroth } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { trait = envious } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { trait = proud } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { trait = arbitrary } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { trait = cruel } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { trait = kinslayer } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { trait = familial_kinslayer } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { trait = dynastic_kinslayer } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { job_treasurer = { trait = hedonist } } }
				change_variable = { which = "government_legitimacy" value = -5 }
			}
			if = {
				limit = { ROOT = { job_treasurer = { trait = inbred } } }
				change_variable = { which = "government_legitimacy" value = -5 }
			}
			if = {
				limit = { ROOT = { job_treasurer = { trait = slow } } }
				change_variable = { which = "government_legitimacy" value = -5 }
			}
			if = {
				limit = { ROOT = { job_treasurer = { trait = imbecile } } }
				change_variable = { which = "government_legitimacy" value = -5 }
			}
			if = {
				limit = { ROOT = { job_treasurer = { trait = gluttonous } } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { job_treasurer = { trait = greedy } } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { job_treasurer = { trait = slothful } } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { job_treasurer = { trait = wroth } } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { job_treasurer = { trait = envious } } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { job_treasurer = { trait = proud } } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { job_treasurer = { trait = arbitrary } } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { job_treasurer = { trait = cruel } } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { job_treasurer = { trait = kinslayer } } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { job_treasurer = { trait = familial_kinslayer } } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { job_treasurer = { trait = dynastic_kinslayer } } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			###
			if = {
				limit = { ROOT = { job_spiritual = { trait = hedonist } } }
				change_variable = { which = "government_legitimacy" value = -5 }
			}
			if = {
				limit = { ROOT = { job_spiritual = { trait = inbred } } }
				change_variable = { which = "government_legitimacy" value = -5 }
			}
			if = {
				limit = { ROOT = { job_spiritual = { trait = slow } } }
				change_variable = { which = "government_legitimacy" value = -5 }
			}
			if = {
				limit = { ROOT = { job_spiritual = { trait = imbecile } } }
				change_variable = { which = "government_legitimacy" value = -5 }
			}
			if = {
				limit = { ROOT = { job_spiritual = { trait = gluttonous } } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { job_spiritual = { trait = greedy } } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { job_spiritual = { trait = slothful } } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { job_spiritual = { trait = wroth } } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { job_spiritual = { trait = envious } } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { job_spiritual = { trait = proud } } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { job_spiritual = { trait = arbitrary } } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { job_spiritual = { trait = cruel } } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { job_spiritual = { trait = kinslayer } } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { job_spiritual = { trait = familial_kinslayer } } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { job_spiritual = { trait = dynastic_kinslayer } } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			###
			if = {
				limit = { ROOT = { job_chancellor = { trait = hedonist } } }
				change_variable = { which = "government_legitimacy" value = -5 }
			}
			if = {
				limit = { ROOT = { job_chancellor = { trait = inbred } } }
				change_variable = { which = "government_legitimacy" value = -5 }
			}
			if = {
				limit = { ROOT = { job_chancellor = { trait = slow } } }
				change_variable = { which = "government_legitimacy" value = -5 }
			}
			if = {
				limit = { ROOT = { job_chancellor = { trait = imbecile } } }
				change_variable = { which = "government_legitimacy" value = -5 }
			}
			if = {
				limit = { ROOT = { job_chancellor = { trait = gluttonous } } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { job_chancellor = { trait = greedy } } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { job_chancellor = { trait = slothful } } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { job_chancellor = { trait = wroth } } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { job_chancellor = { trait = envious } } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { job_chancellor = { trait = proud } } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { job_chancellor = { trait = arbitrary } } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { job_chancellor = { trait = cruel } } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { job_chancellor = { trait = kinslayer } } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { job_chancellor = { trait = familial_kinslayer } } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { job_chancellor = { trait = dynastic_kinslayer } } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { job_spymaster = { trait = hedonist } } }
				change_variable = { which = "government_legitimacy" value = -5 }
			}
			if = {
				limit = { ROOT = { job_spymaster = { trait = inbred } } }
				change_variable = { which = "government_legitimacy" value = -5 }
			}
			if = {
				limit = { ROOT = { job_spymaster = { trait = slow } } }
				change_variable = { which = "government_legitimacy" value = -5 }
			}
			if = {
				limit = { ROOT = { job_spymaster = { trait = imbecile } } }
				change_variable = { which = "government_legitimacy" value = -5 }
			}
			if = {
				limit = { ROOT = { job_spymaster = { trait = gluttonous } } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { job_spymaster = { trait = greedy } } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { job_spymaster = { trait = slothful } } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { job_spymaster = { trait = wroth } } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { job_spymaster = { trait = envious } } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { job_spymaster = { trait = proud } } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { job_spymaster = { trait = arbitrary } } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { job_spymaster = { trait = cruel } } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { job_spymaster = { trait = kinslayer } } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { job_spymaster = { trait = familial_kinslayer } } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { job_spymaster = { trait = dynastic_kinslayer } } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { job_marshal = { trait = hedonist } } }
				change_variable = { which = "government_legitimacy" value = -5 }
			}
			if = {
				limit = { ROOT = { job_marshal = { trait = inbred } } }
				change_variable = { which = "government_legitimacy" value = -5 }
			}
			if = {
				limit = { ROOT = { job_marshal = { trait = slow } } }
				change_variable = { which = "government_legitimacy" value = -5 }
			}
			if = {
				limit = { ROOT = { job_marshal = { trait = imbecile } } }
				change_variable = { which = "government_legitimacy" value = -5 }
			}
			if = {
				limit = { ROOT = { job_marshal = { trait = gluttonous } } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { job_marshal = { trait = greedy } } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { job_marshal = { trait = slothful } } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { job_marshal = { trait = wroth } } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { job_marshal = { trait = envious } } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { job_marshal = { trait = proud } } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { job_marshal = { trait = arbitrary } } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { job_marshal = { trait = cruel } } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { job_marshal = { trait = kinslayer } } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { job_marshal = { trait = familial_kinslayer } } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { job_marshal = { trait = dynastic_kinslayer } } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { realm_stewardship = 40 } }
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { ROOT = { realm_stewardship = 50 } }
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { ROOT = { primary_title = { has_law = currency_laws_0 } } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { primary_title = { has_law = currency_laws_1 } } }
				change_variable = { which = "government_legitimacy" value = 1 }
			}
			if = {
				limit = { ROOT = { primary_title = { has_law = currency_laws_2 } } }
				change_variable = { which = "government_legitimacy" value = 3 }
			}
			if = {
				limit = { ROOT = { primary_title = { has_law = currency_laws_3 } } }
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { ROOT = { has_character_modifier = accepted_intrigue_corruption } }
				change_variable = { which = "government_legitimacy" value = -5 }
			}
			if = {
				limit = { ROOT = { has_character_modifier = accepted_stewardship_corruption } }
				change_variable = { which = "government_legitimacy" value = -5 }
			}
			if = {
				limit = { ROOT = { has_character_modifier = accepted_martial_corruption } }
				change_variable = { which = "government_legitimacy" value = -5 }
			}
			if = {
				limit = { ROOT = { realm_stewardship = 60 } }
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { ROOT = { realm_intrigue = 40 } }
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { ROOT = { realm_intrigue = 50 } }
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { ROOT = { realm_intrigue = 60 } }
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { ROOT = { trait = administrator } }
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { ROOT = { government = mandate_heaven } }
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { ROOT = { trait = schemer } }
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { ROOT = { trait = ambitious } }
				change_variable = { which = "government_legitimacy" value = 10 }
			}
			if = {
				limit = { ROOT = { trait = genius } }
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { ROOT = { trait = quick } }
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { ROOT = { trait = shrewd } }
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { ROOT = { trait = temperate } }
				change_variable = { which = "government_legitimacy" value = 2 }
			}
			if = {
				limit = { ROOT = { trait = charitable } }
				change_variable = { which = "government_legitimacy" value = 2 }
			}
			if = {
				limit = { ROOT = { trait = diligent } }
				change_variable = { which = "government_legitimacy" value = 2 }
			}
			if = {
				limit = { ROOT = { trait = patient } }
				change_variable = { which = "government_legitimacy" value = 2 }
			}
			if = {
				limit = { ROOT = { trait = kind } }
				change_variable = { which = "government_legitimacy" value = 2 }
			}
			if = {
				limit = { ROOT = { trait = humble } }
				change_variable = { which = "government_legitimacy" value = 2 }
			}
			if = {
				limit = { ROOT = { trait = just } }
				change_variable = { which = "government_legitimacy" value = 2 }
			}
			if = {
				limit = { ROOT = { job_treasurer = { trait = administrator } } }
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { ROOT = { job_treasurer = { trait = schemer } } }
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { ROOT = { job_treasurer = { trait = ambitious } } }
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { ROOT = { job_treasurer = { trait = genius } } }
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { ROOT = { job_treasurer = { trait = quick } } }
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { ROOT = { job_treasurer = { trait = shrewd } } }
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { ROOT = { job_treasurer = { trait = temperate } } }
				change_variable = { which = "government_legitimacy" value = 2 }
			}
			if = {
				limit = { ROOT = { job_treasurer = { trait = charitable } } }
				change_variable = { which = "government_legitimacy" value = 2 }
			}
			if = {
				limit = { ROOT = { job_treasurer = { trait = diligent } } }
				change_variable = { which = "government_legitimacy" value = 2 }
			}
			if = {
				limit = { ROOT = { job_treasurer = { trait = patient } } }
				change_variable = { which = "government_legitimacy" value = 2 }
			}
			if = {
				limit = { ROOT = { job_treasurer = { trait = kind } } }
				change_variable = { which = "government_legitimacy" value = 2 }
			}
			if = {
				limit = { ROOT = { job_treasurer = { trait = humble } } }
				change_variable = { which = "government_legitimacy" value = 2 }
			}
			if = {
				limit = { ROOT = { job_treasurer = { trait = just } } }
				change_variable = { which = "government_legitimacy" value = 2 }
			}
			##
			if = {
				limit = { ROOT = { job_spiritual = { trait = administrator } } }
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { ROOT = { job_spiritual = { trait = schemer } } }
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { ROOT = { job_spiritual = { trait = ambitious } } }
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { ROOT = { job_spiritual = { trait = genius } } }
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { ROOT = { job_spiritual = { trait = quick } } }
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { ROOT = { job_spiritual = { trait = shrewd } } }
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { ROOT = { job_spiritual = { trait = temperate } } }
				change_variable = { which = "government_legitimacy" value = 2 }
			}
			if = {
				limit = { ROOT = { job_spiritual = { trait = charitable } } }
				change_variable = { which = "government_legitimacy" value = 2 }
			}
			if = {
				limit = { ROOT = { job_spiritual = { trait = diligent } } }
				change_variable = { which = "government_legitimacy" value = 2 }
			}
			if = {
				limit = { ROOT = { job_spiritual = { trait = patient } } }
				change_variable = { which = "government_legitimacy" value = 2 }
			}
			if = {
				limit = { ROOT = { job_spiritual = { trait = kind } } }
				change_variable = { which = "government_legitimacy" value = 2 }
			}
			if = {
				limit = { ROOT = { job_spiritual = { trait = humble } } }
				change_variable = { which = "government_legitimacy" value = 2 }
			}
			if = {
				limit = { ROOT = { job_spiritual = { trait = just } } }
				change_variable = { which = "government_legitimacy" value = 2 }
			}
			##
			if = {
				limit = { ROOT = { job_chancellor = { trait = administrator } } }
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { ROOT = { job_chancellor = { trait = schemer } } }
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { ROOT = { job_chancellor = { trait = ambitious } } }
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { ROOT = { job_chancellor = { trait = genius } } }
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { ROOT = { job_chancellor = { trait = quick } } }
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { ROOT = { job_chancellor = { trait = shrewd } } }
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { ROOT = { job_chancellor = { trait = temperate } } }
				change_variable = { which = "government_legitimacy" value = 2 }
			}
			if = {
				limit = { ROOT = { job_chancellor = { trait = charitable } } }
				change_variable = { which = "government_legitimacy" value = 2 }
			}
			if = {
				limit = { ROOT = { job_chancellor = { trait = diligent } } }
				change_variable = { which = "government_legitimacy" value = 2 }
			}
			if = {
				limit = { ROOT = { job_chancellor = { trait = patient } } }
				change_variable = { which = "government_legitimacy" value = 2 }
			}
			if = {
				limit = { ROOT = { job_chancellor = { trait = kind } } }
				change_variable = { which = "government_legitimacy" value = 2 }
			}
			if = {
				limit = { ROOT = { job_chancellor = { trait = humble } } }
				change_variable = { which = "government_legitimacy" value = 2 }
			}
			if = {
				limit = { ROOT = { job_chancellor = { trait = just } } }
				change_variable = { which = "government_legitimacy" value = 2 }
			}
			###
			if = {
				limit = { ROOT = { job_spymaster = { trait = administrator } } }
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { ROOT = { job_spymaster = { trait = schemer } } }
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { ROOT = { job_spymaster = { trait = ambitious } } }
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { ROOT = { job_spymaster = { trait = genius } } }
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { ROOT = { job_spymaster = { trait = quick } } }
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { ROOT = { job_spymaster = { trait = shrewd } } }
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { ROOT = { job_spymaster = { trait = temperate } } }
				change_variable = { which = "government_legitimacy" value = 2 }
			}
			if = {
				limit = { ROOT = { job_spymaster = { trait = charitable } } }
				change_variable = { which = "government_legitimacy" value = 2 }
			}
			if = {
				limit = { ROOT = { job_spymaster = { trait = diligent } } }
				change_variable = { which = "government_legitimacy" value = 2 }
			}
			if = {
				limit = { ROOT = { job_spymaster = { trait = patient } } }
				change_variable = { which = "government_legitimacy" value = 2 }
			}
			if = {
				limit = { ROOT = { job_spymaster = { trait = kind } } }
				change_variable = { which = "government_legitimacy" value = 2 }
			}
			if = {
				limit = { ROOT = { job_spymaster = { trait = humble } } }
				change_variable = { which = "government_legitimacy" value = 2 }
			}
			if = {
				limit = { ROOT = { job_spymaster = { trait = just } } }
				change_variable = { which = "government_legitimacy" value = 2 }
			}
			if = {
				limit = { ROOT = { job_marshal = { trait = administrator } } }
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { ROOT = { job_marshal = { trait = schemer } } }
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { ROOT = { job_marshal = { trait = ambitious } } }
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { ROOT = { job_marshal = { trait = genius } } }
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { ROOT = { job_marshal = { trait = quick } } }
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { ROOT = { job_marshal = { trait = shrewd } } }
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { ROOT = { job_marshal = { trait = temperate } } }
				change_variable = { which = "government_legitimacy" value = 2 }
			}
			if = {
				limit = { ROOT = { job_marshal = { trait = charitable } } }
				change_variable = { which = "government_legitimacy" value = 2 }
			}
			if = {
				limit = { ROOT = { job_marshal = { trait = diligent } } }
				change_variable = { which = "government_legitimacy" value = 2 }
			}
			if = {
				limit = { ROOT = { job_marshal = { trait = patient } } }
				change_variable = { which = "government_legitimacy" value = 2 }
			}
			if = {
				limit = { ROOT = { job_marshal = { trait = kind } } }
				change_variable = { which = "government_legitimacy" value = 2 }
			}
			if = {
				limit = { ROOT = { job_marshal = { trait = humble } } }
				change_variable = { which = "government_legitimacy" value = 2 }
			}
			if = {
				limit = { ROOT = { job_marshal = { trait = just } } }
				change_variable = { which = "government_legitimacy" value = 2 }
			}
			if = {
				limit = { check_variable = { which = "government_legitimacy" value = 100.5 } }
				set_variable = { which = "government_legitimacy" value = 100 }
			}
			if = {
				limit = { NOT = { check_variable = { which = "government_legitimacy" value = 0.5 } } }
				set_variable = { which = "government_legitimacy" value = 0 }
			}
		}
		
		# change the corruption modifier
		character_event = { id = GOVLEGIT.1002 }
		clear_event_target = government_legitimacy_title
	}
}

# Notification of corruption change and adding the proper corruption modifier
character_event = {
	id = GOVLEGIT.1002
	desc = EVTDESC_GOVLEGIT.1002
	picture = "GFX_evt_diplomat_hf"
	
	is_triggered_only = yes
	notification = yes
	
	immediate = {
		# remove old corruption modifier and add the new one
		remove_character_modifier = government_legitimacy_0
		remove_character_modifier = government_legitimacy_1
		remove_character_modifier = government_legitimacy_2
		remove_character_modifier = government_legitimacy_3
		remove_character_modifier = government_legitimacy_4
		remove_character_modifier = government_legitimacy_5
		remove_character_modifier = government_legitimacy_6
		remove_character_modifier = government_legitimacy_7
		remove_character_modifier = government_legitimacy_8
		remove_character_modifier = government_legitimacy_9
		remove_character_modifier = government_legitimacy_10
		if = {
			limit = {
				primary_title = {
					check_variable = { which = "government_legitimacy" value = 0 }
					NOT = { check_variable = { which = "government_legitimacy" value = 5 } }
				}
			}
			add_character_modifier = {
				name = government_legitimacy_0
				duration = -1
			}
		} 
		if = {
			limit = {
				primary_title = {
					check_variable = { which = "government_legitimacy" value = 5 }
					NOT = { check_variable = { which = "government_legitimacy" value = 15 } }
				}
			}
			add_character_modifier = {
				name = government_legitimacy_1
				duration = -1
			}
		} 
		if = {
			limit = {
				primary_title = {
					check_variable = { which = "government_legitimacy" value = 15 }
					NOT = { check_variable = { which = "government_legitimacy" value = 25 } }
				}
			}
			add_character_modifier = {
				name = government_legitimacy_2
				duration = -1
			}
		} 
		if = {
			limit = {
				primary_title = {
					check_variable = { which = "government_legitimacy" value = 25 }
					NOT = { check_variable = { which = "government_legitimacy" value = 35 } }
				}
			}
			add_character_modifier = {
				name = government_legitimacy_3
				duration = -1
			}
		} 
		if = {
			limit = {
				primary_title = {
					check_variable = { which = "government_legitimacy" value = 35 }
					NOT = { check_variable = { which = "government_legitimacy" value = 45 } }
				}
			}
			add_character_modifier = {
				name = government_legitimacy_4
				duration = -1
			}
		} 
		if = {
			limit = {
				primary_title = {
					check_variable = { which = "government_legitimacy" value = 45 }
					NOT = { check_variable = { which = "government_legitimacy" value = 55 } }
				}
			}
			add_character_modifier = {
				name = government_legitimacy_5
				duration = -1
			}
		} 
		if = {
			limit = {
				primary_title = {
					check_variable = { which = "government_legitimacy" value = 55 }
					NOT = { check_variable = { which = "government_legitimacy" value = 65 } }
				}
			}
			add_character_modifier = {
				name = government_legitimacy_6
				duration = -1
			}
		} 
		if = {
			limit = {
				primary_title = {
					check_variable = { which = "government_legitimacy" value = 65 }
					NOT = { check_variable = { which = "government_legitimacy" value = 75 } }
				}
			}
			add_character_modifier = {
				name = government_legitimacy_7
				duration = -1
			}
		} 
		if = {
			limit = {
				primary_title = {
					check_variable = { which = "government_legitimacy" value = 75 }
					NOT = { check_variable = { which = "government_legitimacy" value = 85 } }
				}
			}
			add_character_modifier = {
				name = government_legitimacy_8
				duration = -1
			}
		} 
		if = {
			limit = {
				primary_title = {
					check_variable = { which = "government_legitimacy" value = 85 }
					NOT = { check_variable = { which = "government_legitimacy" value = 95 } }
				}
			}
			add_character_modifier = {
				name = government_legitimacy_9
				duration = -1
			}
		} 
		if = {
			limit = {
				primary_title = {
					check_variable = { which = "government_legitimacy" value = 95 }
				}
			}
			add_character_modifier = {
				name = government_legitimacy_10
				duration = -1
			}
		} 
	}
	
	option = {
		name = "OK"
	}
}

###Setup corruption at startup
character_event = {
	id = GOVLEGIT.1003
	is_triggered_only = yes
	hide_window = yes

	trigger = {
		OR = {
			ROOT = {
				primary_title = {
					OR = {
						tier = EMPEROR
						tier = KING
					}
					temporary = no
				}
				independent = yes
				is_nomadic = no
				is_tribal = no
				OR = {
					government = eastern_feudal
					government = mandate_heaven
					government = bhutanese_decayed_government
					government = bhutanese_restored_government
				}
			}
			FROM = {
				primary_title = {
					OR = {
						tier = EMPEROR
						tier = KING
					}
					temporary = no
				}
				independent = yes
				is_nomadic = no
				is_tribal = no
				OR = {
					government = eastern_feudal
					government = mandate_heaven
					government = bhutanese_decayed_government
					government = bhutanese_restored_government
				}
			}
		}
	}
	
	immediate = {
		if = {
			limit = {
				primary_title = {
					OR = {
						tier = EMPEROR
						tier = KING
					}
					temporary = no
				}
				is_nomadic = no
				is_tribal = no
				independent = yes
				OR = {
					government = eastern_feudal
					government = mandate_heaven
					government = bhutanese_decayed_government
					government = bhutanese_restored_government
				}
			}
			primary_title = { save_event_target_as = government_legitimacy_title }
			character_event = { id = GOVLEGIT.1004 days = 1 }
		}
		if = {
			limit = {
				FROM = {
					primary_title = {
						OR = {
							tier = EMPEROR
							tier = KING
						}
						temporary = no
					}
					is_nomadic = no
					is_tribal = no
					independent = yes
					OR = {
						government = eastern_feudal
						government = mandate_heaven
						government = bhutanese_decayed_government
						government = bhutanese_restored_government
					}
				}
			}
			FROM = {
				primary_title = { save_event_target_as = government_legitimacy_title }
				character_event = { id = GOVLEGIT.1004 days = 1 }
			}
		}
	}
}


character_event = {
	id = GOVLEGIT.1004
	
	hide_window = yes
	is_triggered_only = yes
	only_rulers = yes
	
	trigger = {
		has_landed_title = event_target:government_legitimacy_title
		is_nomadic = no
		is_tribal = no
	}
	
	immediate = {
		event_target:government_legitimacy_title = {
			
			# reset the corruption value to 0, in case it's negative
			if = {
				limit = { NOT = { check_variable = { which = "government_legitimacy" value = 0.5 } } }
				set_variable = { which = "government_legitimacy" value = 0 }
			}
			
			# set new ruler corruption to 0
			set_variable = { which = "government_legitimacy" value = 0 }
			
			#determine how much the realm size should change it
			if = {
				limit = { ROOT = { real_tier = KING } } #4 counties
				change_variable = { which = "government_legitimacy" value = 10 } #5
			}
			if = {
				limit = { ROOT = { capital_scope = { TECH_NOBLE_CUSTOMS == 2 } } } #4 counties
				change_variable = { which = "government_legitimacy" value = 2 } #5
			}
			if = {
				limit = { ROOT = { any_tributary = { count = 4 } } } #4 counties
				change_variable = { which = "government_legitimacy" value = 5 } #5
			}
			if = {
				limit = { ROOT = { any_tributary = { count = 8 } } } #4 counties
				change_variable = { which = "government_legitimacy" value = 5 } #5
			}
			if = {
				limit = { ROOT = { any_tributary = { count = 12 } } } #4 counties
				change_variable = { which = "government_legitimacy" value = 5 } #5
			}
			if = {
				limit = { ROOT = { any_tributary = { count = 16 } } } #4 counties
				change_variable = { which = "government_legitimacy" value = 5 } #5
			}
			if = {
				limit = { ROOT = { any_tributary = { count = 20 } } } #4 counties
				change_variable = { which = "government_legitimacy" value = 5 } #5
			}
			if = {
				limit = { ROOT = { any_tributary = { count = 24 } } } #4 counties
				change_variable = { which = "government_legitimacy" value = 5 } #5
			}
			if = {
				limit = { ROOT = { any_tributary = { count = 28 } } } #4 counties
				change_variable = { which = "government_legitimacy" value = 5 } #5
			}
			if = {
				limit = { ROOT = { any_tributary = { count = 32 } } } #4 counties
				change_variable = { which = "government_legitimacy" value = 5 } #5
			}
			if = {
				limit = { ROOT = { has_character_modifier = government_corruption_0 } } #4 counties
				change_variable = { which = "government_legitimacy" value = 10 } #5
			}
			if = {
				limit = { ROOT = { has_character_modifier = government_corruption_1 } } #4 counties
				change_variable = { which = "government_legitimacy" value = 5 } #5
			}
			if = {
				limit = { ROOT = { has_character_modifier = government_corruption_4 } } #4 counties
				change_variable = { which = "government_legitimacy" value = -5 } #5
			}
			if = {
				limit = { ROOT = { has_character_modifier = government_corruption_5 } } #4 counties
				change_variable = { which = "government_legitimacy" value = 10 } #5
			}
			if = {
				limit = { ROOT = { has_character_modifier = government_corruption_6 } } #4 counties
				change_variable = { which = "government_legitimacy" value = 15 } #5
			}
			if = {
				limit = { ROOT = { has_character_modifier = government_corruption_7 } } #4 counties
				change_variable = { which = "government_legitimacy" value = 20 } #5
			}
			if = {
				limit = { ROOT = { has_character_modifier = government_corruption_8 } } #4 counties
				change_variable = { which = "government_legitimacy" value = 25 } #5
			}
			if = {
				limit = { ROOT = { has_character_modifier = government_corruption_9 } } #4 counties
				change_variable = { which = "government_legitimacy" value = 30 } #5
			}
			if = {
				limit = { ROOT = { has_character_modifier = government_corruption_10 } } #4 counties
				change_variable = { which = "government_legitimacy" value = 20 } #5
			}
			if = {
				limit = { ROOT = { capital_scope = { TECH_NOBLE_CUSTOMS == 3 } } } #4 counties
				change_variable = { which = "government_legitimacy" value = 4 } #5
			}
			if = {
				limit = { ROOT = { capital_scope = { TECH_NOBLE_CUSTOMS == 4 } } } #4 counties
				change_variable = { which = "government_legitimacy" value = 6 } #5
			}
			if = {
				limit = { ROOT = { capital_scope = { TECH_NOBLE_CUSTOMS == 5 } } } #4 counties
				change_variable = { which = "government_legitimacy" value = 8 } #5
			}
			if = {
				limit = { ROOT = { capital_scope = { TECH_NOBLE_CUSTOMS == 6 } } } #4 counties
				change_variable = { which = "government_legitimacy" value = 10 } #5
			}
			if = {
				limit = { ROOT = { capital_scope = { TECH_NOBLE_CUSTOMS == 7 } } } #4 counties
				change_variable = { which = "government_legitimacy" value = 12 } #5
			}
			if = {
				limit = { ROOT = { capital_scope = { TECH_NOBLE_CUSTOMS == 8 } } } #4 counties
				change_variable = { which = "government_legitimacy" value = 14 } #5
			}
			if = {
				limit = { ROOT = { capital_scope = { TECH_POPULAR_CUSTOMS == 2 } } } #4 counties
				change_variable = { which = "government_legitimacy" value = 2 } #5
			}
			if = {
				limit = { ROOT = { capital_scope = { TECH_POPULAR_CUSTOMS == 3 } } } #4 counties
				change_variable = { which = "government_legitimacy" value = 4 } #5
			}
			if = {
				limit = { ROOT = { capital_scope = { TECH_POPULAR_CUSTOMS == 4 } } } #4 counties
				change_variable = { which = "government_legitimacy" value = 6 } #5
			}
			if = {
				limit = { ROOT = { capital_scope = { TECH_POPULAR_CUSTOMS == 5 } } } #4 counties
				change_variable = { which = "government_legitimacy" value = 8 } #5
			}
			if = {
				limit = { ROOT = { capital_scope = { TECH_POPULAR_CUSTOMS == 6 } } } #4 counties
				change_variable = { which = "government_legitimacy" value = 10 } #5
			}
			if = {
				limit = { ROOT = { capital_scope = { TECH_POPULAR_CUSTOMS == 7 } } } #4 counties
				change_variable = { which = "government_legitimacy" value = 12 } #5
			}
			if = {
				limit = { ROOT = { capital_scope = { TECH_POPULAR_CUSTOMS == 8 } } } #4 counties
				change_variable = { which = "government_legitimacy" value = 14 } #5
			}
			if = {
				limit = { ROOT = { capital_scope = { TECH_LEGALISM == 2 } } } #4 counties
				change_variable = { which = "government_legitimacy" value = 4 } #5
			}
			if = {
				limit = { ROOT = { capital_scope = { TECH_LEGALISM == 3 } } } #4 counties
				change_variable = { which = "government_legitimacy" value = 8 } #5
			}
			if = {
				limit = { ROOT = { capital_scope = { TECH_LEGALISM == 4 } } } #4 counties
				change_variable = { which = "government_legitimacy" value = 12 } #5
			}
			if = {
				limit = { ROOT = { capital_scope = { TECH_LEGALISM == 5 } } } #4 counties
				change_variable = { which = "government_legitimacy" value = 16 } #5
			}
			if = {
				limit = { ROOT = { capital_scope = { TECH_LEGALISM == 6 } } } #4 counties
				change_variable = { which = "government_legitimacy" value = 20 } #5
			}
			if = {
				limit = { ROOT = { capital_scope = { TECH_LEGALISM == 7 } } } #4 counties
				change_variable = { which = "government_legitimacy" value = 24 } #5
			}
			if = {
				limit = { ROOT = { capital_scope = { TECH_LEGALISM == 8 } } } #4 counties
				change_variable = { which = "government_legitimacy" value = 28 } #5
			}
			if = {
				limit = { ROOT = { NOT = { prestige = 500 } } } #4 counties
				change_variable = { which = "government_legitimacy" value = -3 } #5
			}
			if = {
				limit = { ROOT = { NOT = { prestige = 1000 } } } #4 counties
				change_variable = { which = "government_legitimacy" value = -3 } #5
			}
			if = {
				limit = { ROOT = { NOT = { prestige = 1500 } } } #4 counties
				change_variable = { which = "government_legitimacy" value = -3 } #5
			}
			if = {
				limit = { ROOT = { prestige = 2000 } } #4 counties
				change_variable = { which = "government_legitimacy" value = 5 } #5
			}
			if = {
				limit = { ROOT = { prestige = 2500 } } #4 counties
				change_variable = { which = "government_legitimacy" value = 5 } #5
			}
			if = {
				limit = { ROOT = { prestige = 3000 } } #4 counties
				change_variable = { which = "government_legitimacy" value = 5 } #5
			}
			if = {
				limit = { ROOT = { prestige = 3500 } } #4 counties
				change_variable = { which = "government_legitimacy" value = 5 } #5
			}
			if = {
				limit = { ROOT = { prestige = 4000 } } #4 counties
				change_variable = { which = "government_legitimacy" value = 5 } #5
			}
			if = {
				limit = { ROOT = { prestige = 4500 } } #4 counties
				change_variable = { which = "government_legitimacy" value = 5 } #5
			}
			if = {
				limit = { ROOT = { prestige = 5000 } } #4 counties
				change_variable = { which = "government_legitimacy" value = 5 } #5
			}
			if = {
				limit = { ROOT = { realm_size = 12 } } #4 counties
				change_variable = { which = "government_legitimacy" value = -2 } #5
			}
			if = {
				limit = { ROOT = { realm_size = 23 } } #8 counties
				change_variable = { which = "government_legitimacy" value = -2 } #10
			}
			if = {
				limit = { ROOT = { realm_size = 45 } } #15 counties
				change_variable = { which = "government_legitimacy" value = -2 } #15
			}
			if = {
				limit = { ROOT = { realm_size = 90 } } #30 counties
				change_variable = { which = "government_legitimacy" value = 5 } #20
			}
			if = {
				limit = { ROOT = { realm_size = 180 } } #60 counties
				change_variable = { which = "government_legitimacy" value = 5 } #25
			}
			if = {
				limit = { ROOT = { realm_size = 270 } } #90 counties
				change_variable = { which = "government_legitimacy" value = 5 } #30
			}
			if = {
				limit = { ROOT = { realm_size = 450 } } #150 counties
				change_variable = { which = "government_legitimacy" value = 5 } #35
			}
			if = {
				limit = { ROOT = { realm_size = 600 } } #200 counties
				change_variable = { which = "government_legitimacy" value = 5 } #40
			}
			if = {
				limit = { ROOT = { realm_size = 750 } } #250 counties
				change_variable = { which = "government_legitimacy" value = 5 } #45
			}
			if = {
				limit = { ROOT = { realm_size = 900 } } #300 counties
				change_variable = { which = "government_legitimacy" value = 5 } #50
			}
			if = {
				limit = { ROOT = { realm_size = 1050 } } #350 counties
				change_variable = { which = "government_legitimacy" value = 5 } #55
			}
			if = {
				limit = { ROOT = { realm_size = 1200 } } #400 counties
				change_variable = { which = "government_legitimacy" value = 5 } #60
			}
			if = {
				limit = { ROOT = { realm_size = 1350 } } #450 counties
				change_variable = { which = "government_legitimacy" value = 5 } #65
			}
			if = {
				limit = { ROOT = { realm_size = 1500 } } #500 counties
				change_variable = { which = "government_legitimacy" value = 5 } #70
			}
			if = {
				limit = { ROOT = { realm_size = 1650 } } #550 counties 
				change_variable = { which = "government_legitimacy" value = 5 } #75
			}
			if = {
				limit = { ROOT = { realm_size = 1800 } } #600 counties
				change_variable = { which = "government_legitimacy" value = 5 } #80
			}
			if = {
				limit = { ROOT = { realm_size = 2100 } } #700 counties
				change_variable = { which = "government_legitimacy" value = 5 } #85
			}
			if = {
				limit = { ROOT = { realm_size = 2400 } } #800 counties
				change_variable = { which = "government_legitimacy" value = 5 } #90
			}
			if = {
				limit = { ROOT = { realm_size = 2700 } } #900 counties
				change_variable = { which = "government_legitimacy" value = 5 } #95
			}
			if = {
				limit = { ROOT = { realm_size = 3000 } } #1000 counties
				change_variable = { which = "government_legitimacy" value = 5 } #98
			}
			#Check realm stewardship
			if = {
				limit = { NOT = { ROOT = { realm_stewardship = 10 } } }
				change_variable = { which = "government_legitimacy" value = -10 }
			}
			if = {
				limit = { NOT = { ROOT = { realm_stewardship = 20 } } }
				change_variable = { which = "government_legitimacy" value = -7 }
			}
			if = {
				limit = { NOT = { ROOT = { realm_stewardship = 30 } } }
				change_variable = { which = "government_legitimacy" value = -5 }
			}
			if = {
				limit = { NOT = { ROOT = { realm_intrigue = 10 } } }
				change_variable = { which = "government_legitimacy" value = -10 }
			}
			if = {
				limit = { NOT = { ROOT = { realm_intrigue = 20 } } }
				change_variable = { which = "government_legitimacy" value = -7 }
			}
			if = {
				limit = { NOT = { ROOT = { realm_intrigue = 30 } } }
				change_variable = { which = "government_legitimacy" value = -5 }
			}
			
			if = {
				limit = { NOT = { ROOT = { realm_diplomacy = 10 } } }
				change_variable = { which = "government_legitimacy" value = -10 }
			}
			if = {
				limit = { NOT = { ROOT = { realm_diplomacy = 20 } } }
				change_variable = { which = "government_legitimacy" value = -7 }
			}
			if = {
				limit = { NOT = { ROOT = { realm_diplomacy = 30 } } }
				change_variable = { which = "government_legitimacy" value = -5 }
			}
			if = {
				limit = { ROOT = { realm_diplomacy = 40 } }
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { ROOT = { realm_diplomacy = 50 } }
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { ROOT = { realm_diplomacy = 60 } }
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { ROOT = { has_landed_title = e_bhutan } }
				change_variable = { which = "government_legitimacy" value = 10 }
			}
			if = {
				limit = { ROOT = { has_landed_title = k_bhutan } }
				change_variable = { which = "government_legitimacy" value = 10 }
			}
			if = {
				limit = { ROOT = { has_artifact = crown_bhutan } }
				change_variable = { which = "government_legitimacy" value = 10 }
			}
			
			if = {
				limit = { 
					ROOT = { 
						OR = {
							has_landed_title = c_hong_kong 
							any_vassal = {
								has_landed_title = c_hong_kong
							}
							any_vassal = {
								any_vassal = {
									has_landed_title = c_hong_kong
								}
							}
							any_vassal = {
								any_vassal = {
									any_vassal = {
										has_landed_title = c_hong_kong
									}
								}
							}
						}
					} 
				}
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { 
					ROOT = { 
						OR = {
							has_landed_title = c_macau 
							any_vassal = {
								has_landed_title = c_macau
							}
							any_vassal = {
								any_vassal = {
									has_landed_title = c_macau
								}
							}
							any_vassal = {
								any_vassal = {
									any_vassal = {
										has_landed_title = c_macau
									}
								}
							}
						}
					} 
				}
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { 
					ROOT = { 
						OR = {
							has_landed_title = c_taipei 
							any_vassal = {
								has_landed_title = c_taipei
							}
							any_vassal = {
								any_vassal = {
									has_landed_title = c_taipei
								}
							}
							any_vassal = {
								any_vassal = {
									any_vassal = {
										has_landed_title = c_taipei
									}
								}
							}
						}
					} 
				}
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { 
					ROOT = { 
						OR = {
							has_landed_title = c_tainan 
							any_vassal = {
								has_landed_title = c_tainan
							}
							any_vassal = {
								any_vassal = {
									has_landed_title = c_tainan
								}
							}
							any_vassal = {
								any_vassal = {
									any_vassal = {
										has_landed_title = c_tainan
									}
								}
							}
						}
					} 
				}
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { 
					ROOT = { 
						OR = {
							has_landed_title = c_xiamen 
							any_vassal = {
								has_landed_title = c_xiamen
							}
							any_vassal = {
								any_vassal = {
									has_landed_title = c_xiamen
								}
							}
							any_vassal = {
								any_vassal = {
									any_vassal = {
										has_landed_title = c_xiamen
									}
								}
							}
						}
					} 
				}
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { 
					ROOT = { 
						OR = {
							has_landed_title = c_guangzhou 
							any_vassal = {
								has_landed_title = c_guangzhou
							}
							any_vassal = {
								any_vassal = {
									has_landed_title = c_guangzhou
								}
							}
							any_vassal = {
								any_vassal = {
									any_vassal = {
										has_landed_title = c_guangzhou
									}
								}
							}
						}
					} 
				}
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { 
					ROOT = { 
						OR = {
							has_landed_title = c_yongchuan
							any_vassal = {
								has_landed_title = c_yongchuan
							}
							any_vassal = {
								any_vassal = {
									has_landed_title = c_yongchuan
								}
							}
							any_vassal = {
								any_vassal = {
									any_vassal = {
										has_landed_title = c_yongchuan
									}
								}
							}
						}
					} 
				}
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { 
					ROOT = { 
						OR = {
							has_landed_title = c_wenchuan 
							any_vassal = {
								has_landed_title = c_wenchuan
							}
							any_vassal = {
								any_vassal = {
									has_landed_title = c_wenchuan
								}
							}
							any_vassal = {
								any_vassal = {
									any_vassal = {
										has_landed_title = c_wenchuan
									}
								}
							}
						}
					} 
				}
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { 
					ROOT = { 
						OR = {
							has_landed_title = c_nanjing 
							any_vassal = {
								has_landed_title = c_nanjing
							}
							any_vassal = {
								any_vassal = {
									has_landed_title = c_nanjing
								}
							}
							any_vassal = {
								any_vassal = {
									any_vassal = {
										has_landed_title = c_nanjing
									}
								}
							}
						}
					} 
				}
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { 
					ROOT = { 
						OR = {
							has_landed_title = c_shanghai
							any_vassal = {
								has_landed_title = c_shanghai
							}
							any_vassal = {
								any_vassal = {
									has_landed_title = c_shanghai
								}
							}
							any_vassal = {
								any_vassal = {
									any_vassal = {
										has_landed_title = c_shanghai
									}
								}
							}
						}
					} 
				}
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { 
					ROOT = { 
						OR = {
							has_landed_title = c_ningbo
							any_vassal = {
								has_landed_title = c_ningbo
							}
							any_vassal = {
								any_vassal = {
									has_landed_title = c_ningbo
								}
							}
							any_vassal = {
								any_vassal = {
									any_vassal = {
										has_landed_title = c_ningbo
									}
								}
							}
						}
					} 
				}
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { 
					ROOT = { 
						OR = {
							has_landed_title = c_hangzhou
							any_vassal = {
								has_landed_title = c_hangzhou
							}
							any_vassal = {
								any_vassal = {
									has_landed_title = c_hangzhou
								}
							}
							any_vassal = {
								any_vassal = {
									any_vassal = {
										has_landed_title = c_hangzhou
									}
								}
							}
						}
					} 
				}
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { 
					ROOT = { 
						OR = {
							has_landed_title = c_xian
							any_vassal = {
								has_landed_title = c_xian
							}
							any_vassal = {
								any_vassal = {
									has_landed_title = c_xian
								}
							}
							any_vassal = {
								any_vassal = {
									any_vassal = {
										has_landed_title = c_xian
									}
								}
							}
						}
					} 
				}
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { 
					ROOT = { 
						OR = {
							has_landed_title = c_beijing 
							any_vassal = {
								has_landed_title = c_beijing
							}
							any_vassal = {
								any_vassal = {
									has_landed_title = c_beijing
								}
							}
							any_vassal = {
								any_vassal = {
									any_vassal = {
										has_landed_title = c_beijing
									}
								}
							}
						}
					} 
				}
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { 
					ROOT = { 
						OR = {
							has_landed_title = c_dalian
							any_vassal = {
								has_landed_title = c_dalian
							}
							any_vassal = {
								any_vassal = {
									has_landed_title = c_dalian
								}
							}
							any_vassal = {
								any_vassal = {
									any_vassal = {
										has_landed_title = c_dalian
									}
								}
							}
						}
					} 
				}
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { 
					ROOT = { 
						OR = {
							has_landed_title = c_shenyang
							any_vassal = {
								has_landed_title = c_shenyang
							}
							any_vassal = {
								any_vassal = {
									has_landed_title = c_shenyang
								}
							}
							any_vassal = {
								any_vassal = {
									any_vassal = {
										has_landed_title = c_shenyang
									}
								}
							}
						}
					} 
				}
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { 
					ROOT = { 
						OR = {
							has_landed_title = c_harbin
							any_vassal = {
								has_landed_title = c_harbin
							}
							any_vassal = {
								any_vassal = {
									has_landed_title = c_harbin
								}
							}
							any_vassal = {
								any_vassal = {
									any_vassal = {
										has_landed_title = c_harbin
									}
								}
							}
						}
					} 
				}
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { 
					ROOT = { 
						OR = {
							has_landed_title = c_seoul
							any_vassal = {
								has_landed_title = c_seoul
							}
							any_vassal = {
								any_vassal = {
									has_landed_title = c_seoul
								}
							}
							any_vassal = {
								any_vassal = {
									any_vassal = {
										has_landed_title = c_seoul
									}
								}
							}
						}
					} 
				}
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { 
					ROOT = { 
						OR = {
							has_landed_title = c_pyongyang
							any_vassal = {
								has_landed_title = c_pyongyang
							}
							any_vassal = {
								any_vassal = {
									has_landed_title = c_pyongyang
								}
							}
							any_vassal = {
								any_vassal = {
									any_vassal = {
										has_landed_title = c_pyongyang
									}
								}
							}
						}
					} 
				}
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { 
					ROOT = { 
						OR = {
							has_landed_title = c_qingdao
							any_vassal = {
								has_landed_title = c_qingdao
							}
							any_vassal = {
								any_vassal = {
									has_landed_title = c_qingdao
								}
							}
							any_vassal = {
								any_vassal = {
									any_vassal = {
										has_landed_title = c_qingdao
									}
								}
							}
						}
					} 
				}
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { 
					ROOT = { 
						OR = {
							has_landed_title = c_jinan
							any_vassal = {
								has_landed_title = c_jinan
							}
							any_vassal = {
								any_vassal = {
									has_landed_title = c_jinan
								}
							}
							any_vassal = {
								any_vassal = {
									any_vassal = {
										has_landed_title = c_jinan
									}
								}
							}
						}
					} 
				}
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { 
					ROOT = { 
						OR = {
							has_landed_title = c_aksu
							any_vassal = {
								has_landed_title = c_aksu
							}
							any_vassal = {
								any_vassal = {
									has_landed_title = c_aksu
								}
							}
							any_vassal = {
								any_vassal = {
									any_vassal = {
										has_landed_title = c_aksu
									}
								}
							}
						}
					} 
				}
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { 
					ROOT = { 
						OR = {
							has_landed_title = c_lhasa
							any_vassal = {
								has_landed_title = c_lhasa
							}
							any_vassal = {
								any_vassal = {
									has_landed_title = c_lhasa
								}
							}
							any_vassal = {
								any_vassal = {
									any_vassal = {
										has_landed_title = c_lhasa
									}
								}
							}
						}
					} 
				}
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { NOT = { ROOT = { realm_learning = 10 } } }
				change_variable = { which = "government_legitimacy" value = -10 }
			}
			if = {
				limit = { NOT = { ROOT = { realm_learning = 20 } } }
				change_variable = { which = "government_legitimacy" value = -7 }
			}
			if = {
				limit = { NOT = { ROOT = { realm_learning = 30 } } }
				change_variable = { which = "government_legitimacy" value = -5 }
			}
			if = {
				limit = { ROOT = { realm_learning = 40 } }
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { ROOT = { realm_learning = 50 } }
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { ROOT = { realm_learning = 60 } }
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { ROOT = { trait = hedonist } }
				change_variable = { which = "government_legitimacy" value = -5 }
			}
			if = {
				limit = { ROOT = { trait = inbred } }
				change_variable = { which = "government_legitimacy" value = -5 }
			}
			if = {
				limit = { ROOT = { trait = slow } }
				change_variable = { which = "government_legitimacy" value = -5 }
			}
			if = {
				limit = { ROOT = { trait = imbecile } }
				change_variable = { which = "government_legitimacy" value = -5 }
			}
			if = {
				limit = { ROOT = { trait = gluttonous } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { trait = greedy } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { trait = slothful } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { trait = wroth } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { trait = envious } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { trait = proud } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { trait = arbitrary } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { trait = cruel } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { trait = kinslayer } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { trait = familial_kinslayer } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { trait = dynastic_kinslayer } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { job_treasurer = { trait = hedonist } } }
				change_variable = { which = "government_legitimacy" value = -5 }
			}
			if = {
				limit = { ROOT = { job_treasurer = { trait = inbred } } }
				change_variable = { which = "government_legitimacy" value = -5 }
			}
			if = {
				limit = { ROOT = { job_treasurer = { trait = slow } } }
				change_variable = { which = "government_legitimacy" value = -5 }
			}
			if = {
				limit = { ROOT = { job_treasurer = { trait = imbecile } } }
				change_variable = { which = "government_legitimacy" value = -5 }
			}
			if = {
				limit = { ROOT = { job_treasurer = { trait = gluttonous } } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { job_treasurer = { trait = greedy } } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { job_treasurer = { trait = slothful } } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { job_treasurer = { trait = wroth } } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { job_treasurer = { trait = envious } } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { job_treasurer = { trait = proud } } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { job_treasurer = { trait = arbitrary } } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { job_treasurer = { trait = cruel } } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { job_treasurer = { trait = kinslayer } } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { job_treasurer = { trait = familial_kinslayer } } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { job_treasurer = { trait = dynastic_kinslayer } } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			###
			if = {
				limit = { ROOT = { job_spiritual = { trait = hedonist } } }
				change_variable = { which = "government_legitimacy" value = -5 }
			}
			if = {
				limit = { ROOT = { job_spiritual = { trait = inbred } } }
				change_variable = { which = "government_legitimacy" value = -5 }
			}
			if = {
				limit = { ROOT = { job_spiritual = { trait = slow } } }
				change_variable = { which = "government_legitimacy" value = -5 }
			}
			if = {
				limit = { ROOT = { job_spiritual = { trait = imbecile } } }
				change_variable = { which = "government_legitimacy" value = -5 }
			}
			if = {
				limit = { ROOT = { job_spiritual = { trait = gluttonous } } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { job_spiritual = { trait = greedy } } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { job_spiritual = { trait = slothful } } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { job_spiritual = { trait = wroth } } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { job_spiritual = { trait = envious } } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { job_spiritual = { trait = proud } } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { job_spiritual = { trait = arbitrary } } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { job_spiritual = { trait = cruel } } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { job_spiritual = { trait = kinslayer } } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { job_spiritual = { trait = familial_kinslayer } } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { job_spiritual = { trait = dynastic_kinslayer } } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			###
			if = {
				limit = { ROOT = { job_chancellor = { trait = hedonist } } }
				change_variable = { which = "government_legitimacy" value = -5 }
			}
			if = {
				limit = { ROOT = { job_chancellor = { trait = inbred } } }
				change_variable = { which = "government_legitimacy" value = -5 }
			}
			if = {
				limit = { ROOT = { job_chancellor = { trait = slow } } }
				change_variable = { which = "government_legitimacy" value = -5 }
			}
			if = {
				limit = { ROOT = { job_chancellor = { trait = imbecile } } }
				change_variable = { which = "government_legitimacy" value = -5 }
			}
			if = {
				limit = { ROOT = { job_chancellor = { trait = gluttonous } } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { job_chancellor = { trait = greedy } } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { job_chancellor = { trait = slothful } } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { job_chancellor = { trait = wroth } } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { job_chancellor = { trait = envious } } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { job_chancellor = { trait = proud } } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { job_chancellor = { trait = arbitrary } } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { job_chancellor = { trait = cruel } } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { job_chancellor = { trait = kinslayer } } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { job_chancellor = { trait = familial_kinslayer } } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { job_chancellor = { trait = dynastic_kinslayer } } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { job_spymaster = { trait = hedonist } } }
				change_variable = { which = "government_legitimacy" value = -5 }
			}
			if = {
				limit = { ROOT = { job_spymaster = { trait = inbred } } }
				change_variable = { which = "government_legitimacy" value = -5 }
			}
			if = {
				limit = { ROOT = { job_spymaster = { trait = slow } } }
				change_variable = { which = "government_legitimacy" value = -5 }
			}
			if = {
				limit = { ROOT = { job_spymaster = { trait = imbecile } } }
				change_variable = { which = "government_legitimacy" value = -5 }
			}
			if = {
				limit = { ROOT = { job_spymaster = { trait = gluttonous } } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { job_spymaster = { trait = greedy } } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { job_spymaster = { trait = slothful } } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { job_spymaster = { trait = wroth } } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { job_spymaster = { trait = envious } } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { job_spymaster = { trait = proud } } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { job_spymaster = { trait = arbitrary } } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { job_spymaster = { trait = cruel } } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { job_spymaster = { trait = kinslayer } } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { job_spymaster = { trait = familial_kinslayer } } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { job_spymaster = { trait = dynastic_kinslayer } } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { job_marshal = { trait = hedonist } } }
				change_variable = { which = "government_legitimacy" value = -5 }
			}
			if = {
				limit = { ROOT = { job_marshal = { trait = inbred } } }
				change_variable = { which = "government_legitimacy" value = -5 }
			}
			if = {
				limit = { ROOT = { job_marshal = { trait = slow } } }
				change_variable = { which = "government_legitimacy" value = -5 }
			}
			if = {
				limit = { ROOT = { job_marshal = { trait = imbecile } } }
				change_variable = { which = "government_legitimacy" value = -5 }
			}
			if = {
				limit = { ROOT = { job_marshal = { trait = gluttonous } } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { job_marshal = { trait = greedy } } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { job_marshal = { trait = slothful } } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { job_marshal = { trait = wroth } } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { job_marshal = { trait = envious } } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { job_marshal = { trait = proud } } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { job_marshal = { trait = arbitrary } } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { job_marshal = { trait = cruel } } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { job_marshal = { trait = kinslayer } } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { job_marshal = { trait = familial_kinslayer } } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { job_marshal = { trait = dynastic_kinslayer } } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { realm_stewardship = 40 } }
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { ROOT = { realm_stewardship = 50 } }
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { ROOT = { primary_title = { has_law = currency_laws_0 } } }
				change_variable = { which = "government_legitimacy" value = -2 }
			}
			if = {
				limit = { ROOT = { primary_title = { has_law = currency_laws_1 } } }
				change_variable = { which = "government_legitimacy" value = 1 }
			}
			if = {
				limit = { ROOT = { primary_title = { has_law = currency_laws_2 } } }
				change_variable = { which = "government_legitimacy" value = 3 }
			}
			if = {
				limit = { ROOT = { primary_title = { has_law = currency_laws_3 } } }
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { ROOT = { has_character_modifier = accepted_intrigue_corruption } }
				change_variable = { which = "government_legitimacy" value = -5 }
			}
			if = {
				limit = { ROOT = { has_character_modifier = accepted_stewardship_corruption } }
				change_variable = { which = "government_legitimacy" value = -5 }
			}
			if = {
				limit = { ROOT = { has_character_modifier = accepted_martial_corruption } }
				change_variable = { which = "government_legitimacy" value = -5 }
			}
			if = {
				limit = { ROOT = { realm_stewardship = 60 } }
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { ROOT = { realm_intrigue = 40 } }
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { ROOT = { realm_intrigue = 50 } }
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { ROOT = { realm_intrigue = 60 } }
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { ROOT = { trait = administrator } }
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { ROOT = { government = mandate_heaven } }
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { ROOT = { trait = schemer } }
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { ROOT = { trait = ambitious } }
				change_variable = { which = "government_legitimacy" value = 10 }
			}
			if = {
				limit = { ROOT = { trait = genius } }
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { ROOT = { trait = quick } }
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { ROOT = { trait = shrewd } }
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { ROOT = { trait = temperate } }
				change_variable = { which = "government_legitimacy" value = 2 }
			}
			if = {
				limit = { ROOT = { trait = charitable } }
				change_variable = { which = "government_legitimacy" value = 2 }
			}
			if = {
				limit = { ROOT = { trait = diligent } }
				change_variable = { which = "government_legitimacy" value = 2 }
			}
			if = {
				limit = { ROOT = { trait = patient } }
				change_variable = { which = "government_legitimacy" value = 2 }
			}
			if = {
				limit = { ROOT = { trait = kind } }
				change_variable = { which = "government_legitimacy" value = 2 }
			}
			if = {
				limit = { ROOT = { trait = humble } }
				change_variable = { which = "government_legitimacy" value = 2 }
			}
			if = {
				limit = { ROOT = { trait = just } }
				change_variable = { which = "government_legitimacy" value = 2 }
			}
			if = {
				limit = { ROOT = { job_treasurer = { trait = administrator } } }
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { ROOT = { job_treasurer = { trait = schemer } } }
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { ROOT = { job_treasurer = { trait = ambitious } } }
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { ROOT = { job_treasurer = { trait = genius } } }
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { ROOT = { job_treasurer = { trait = quick } } }
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { ROOT = { job_treasurer = { trait = shrewd } } }
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { ROOT = { job_treasurer = { trait = temperate } } }
				change_variable = { which = "government_legitimacy" value = 2 }
			}
			if = {
				limit = { ROOT = { job_treasurer = { trait = charitable } } }
				change_variable = { which = "government_legitimacy" value = 2 }
			}
			if = {
				limit = { ROOT = { job_treasurer = { trait = diligent } } }
				change_variable = { which = "government_legitimacy" value = 2 }
			}
			if = {
				limit = { ROOT = { job_treasurer = { trait = patient } } }
				change_variable = { which = "government_legitimacy" value = 2 }
			}
			if = {
				limit = { ROOT = { job_treasurer = { trait = kind } } }
				change_variable = { which = "government_legitimacy" value = 2 }
			}
			if = {
				limit = { ROOT = { job_treasurer = { trait = humble } } }
				change_variable = { which = "government_legitimacy" value = 2 }
			}
			if = {
				limit = { ROOT = { job_treasurer = { trait = just } } }
				change_variable = { which = "government_legitimacy" value = 2 }
			}
			##
			if = {
				limit = { ROOT = { job_spiritual = { trait = administrator } } }
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { ROOT = { job_spiritual = { trait = schemer } } }
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { ROOT = { job_spiritual = { trait = ambitious } } }
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { ROOT = { job_spiritual = { trait = genius } } }
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { ROOT = { job_spiritual = { trait = quick } } }
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { ROOT = { job_spiritual = { trait = shrewd } } }
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { ROOT = { job_spiritual = { trait = temperate } } }
				change_variable = { which = "government_legitimacy" value = 2 }
			}
			if = {
				limit = { ROOT = { job_spiritual = { trait = charitable } } }
				change_variable = { which = "government_legitimacy" value = 2 }
			}
			if = {
				limit = { ROOT = { job_spiritual = { trait = diligent } } }
				change_variable = { which = "government_legitimacy" value = 2 }
			}
			if = {
				limit = { ROOT = { job_spiritual = { trait = patient } } }
				change_variable = { which = "government_legitimacy" value = 2 }
			}
			if = {
				limit = { ROOT = { job_spiritual = { trait = kind } } }
				change_variable = { which = "government_legitimacy" value = 2 }
			}
			if = {
				limit = { ROOT = { job_spiritual = { trait = humble } } }
				change_variable = { which = "government_legitimacy" value = 2 }
			}
			if = {
				limit = { ROOT = { job_spiritual = { trait = just } } }
				change_variable = { which = "government_legitimacy" value = 2 }
			}
			##
			if = {
				limit = { ROOT = { job_chancellor = { trait = administrator } } }
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { ROOT = { job_chancellor = { trait = schemer } } }
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { ROOT = { job_chancellor = { trait = ambitious } } }
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { ROOT = { job_chancellor = { trait = genius } } }
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { ROOT = { job_chancellor = { trait = quick } } }
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { ROOT = { job_chancellor = { trait = shrewd } } }
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { ROOT = { job_chancellor = { trait = temperate } } }
				change_variable = { which = "government_legitimacy" value = 2 }
			}
			if = {
				limit = { ROOT = { job_chancellor = { trait = charitable } } }
				change_variable = { which = "government_legitimacy" value = 2 }
			}
			if = {
				limit = { ROOT = { job_chancellor = { trait = diligent } } }
				change_variable = { which = "government_legitimacy" value = 2 }
			}
			if = {
				limit = { ROOT = { job_chancellor = { trait = patient } } }
				change_variable = { which = "government_legitimacy" value = 2 }
			}
			if = {
				limit = { ROOT = { job_chancellor = { trait = kind } } }
				change_variable = { which = "government_legitimacy" value = 2 }
			}
			if = {
				limit = { ROOT = { job_chancellor = { trait = humble } } }
				change_variable = { which = "government_legitimacy" value = 2 }
			}
			if = {
				limit = { ROOT = { job_chancellor = { trait = just } } }
				change_variable = { which = "government_legitimacy" value = 2 }
			}
			###
			if = {
				limit = { ROOT = { job_spymaster = { trait = administrator } } }
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { ROOT = { job_spymaster = { trait = schemer } } }
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { ROOT = { job_spymaster = { trait = ambitious } } }
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { ROOT = { job_spymaster = { trait = genius } } }
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { ROOT = { job_spymaster = { trait = quick } } }
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { ROOT = { job_spymaster = { trait = shrewd } } }
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { ROOT = { job_spymaster = { trait = temperate } } }
				change_variable = { which = "government_legitimacy" value = 2 }
			}
			if = {
				limit = { ROOT = { job_spymaster = { trait = charitable } } }
				change_variable = { which = "government_legitimacy" value = 2 }
			}
			if = {
				limit = { ROOT = { job_spymaster = { trait = diligent } } }
				change_variable = { which = "government_legitimacy" value = 2 }
			}
			if = {
				limit = { ROOT = { job_spymaster = { trait = patient } } }
				change_variable = { which = "government_legitimacy" value = 2 }
			}
			if = {
				limit = { ROOT = { job_spymaster = { trait = kind } } }
				change_variable = { which = "government_legitimacy" value = 2 }
			}
			if = {
				limit = { ROOT = { job_spymaster = { trait = humble } } }
				change_variable = { which = "government_legitimacy" value = 2 }
			}
			if = {
				limit = { ROOT = { job_spymaster = { trait = just } } }
				change_variable = { which = "government_legitimacy" value = 2 }
			}
			if = {
				limit = { ROOT = { job_marshal = { trait = administrator } } }
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { ROOT = { job_marshal = { trait = schemer } } }
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { ROOT = { job_marshal = { trait = ambitious } } }
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { ROOT = { job_marshal = { trait = genius } } }
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { ROOT = { job_marshal = { trait = quick } } }
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { ROOT = { job_marshal = { trait = shrewd } } }
				change_variable = { which = "government_legitimacy" value = 5 }
			}
			if = {
				limit = { ROOT = { job_marshal = { trait = temperate } } }
				change_variable = { which = "government_legitimacy" value = 2 }
			}
			if = {
				limit = { ROOT = { job_marshal = { trait = charitable } } }
				change_variable = { which = "government_legitimacy" value = 2 }
			}
			if = {
				limit = { ROOT = { job_marshal = { trait = diligent } } }
				change_variable = { which = "government_legitimacy" value = 2 }
			}
			if = {
				limit = { ROOT = { job_marshal = { trait = patient } } }
				change_variable = { which = "government_legitimacy" value = 2 }
			}
			if = {
				limit = { ROOT = { job_marshal = { trait = kind } } }
				change_variable = { which = "government_legitimacy" value = 2 }
			}
			if = {
				limit = { ROOT = { job_marshal = { trait = humble } } }
				change_variable = { which = "government_legitimacy" value = 2 }
			}
			if = {
				limit = { ROOT = { job_marshal = { trait = just } } }
				change_variable = { which = "government_legitimacy" value = 2 }
			}
			if = {
				limit = { check_variable = { which = "government_legitimacy" value = 100.5 } }
				set_variable = { which = "government_legitimacy" value = 100 }
			}
			if = {
				limit = { NOT = { check_variable = { which = "government_legitimacy" value = 0.5 } } }
				set_variable = { which = "government_legitimacy" value = 0 }
			}
		}
		
		# change the corruption modifier
		character_event = { id = GOVLEGIT.1002 }
		clear_event_target = government_legitimacy_title
	}
}