namespace = eacr

#########################################
#
#	generic religious events
#
#########################################
# Gain a bonus
character_event = {
	id = eacr.1
	desc = "eacr1Desc"
	picture = GFX_evt_book_carolingian_script
	border = GFX_event_normal_frame_religion
	is_triggered_only = yes
	religion = caodai

	trigger = {
		has_character_flag = picking_caodai_way
		religion = caodai
	}
	
	option = {#Christian and "saints" worshipper
		name = EVTOPTA_eacr1
		add_trait = way_saint
	}
	
	option = {#Taoist
		name = EVTOPTB_eacr1
		add_trait = way_tao
	}
	
	option = {#Confucius and Legalist
		name = EVTOPTC_eacr1
		add_trait = way_confucius
	}
	
	option = {#Buddhist
		name = EVTOPTD_eacr1
		add_trait = way_buddha
	}
	
	after = {
		clr_character_flag = picking_caodai_way
	}
}

character_event = {
	id = eacr.2
	is_triggered_only = yes
	hide_window = yes
	immediate = {
		if = {
			limit = { ai = no }
			character_event = { id = eacr.101 }
		}
		else = {
			letter_event = { id = eacr.108 }
		}
	}
}

character_event = {
	id = eacr.101
	is_triggered_only = yes
	picture = GFX_evt_throne_room_thai
	border = GFX_event_normal_frame_religion
	desc = EVTDESCEACR101
	option = {
		name = EVTOPTAEACR101
		trigger = {
			NOR = {
				trait = lustful
				trait = wroth
			}
		}
		add_trait = dharmaraja
		clr_character_flag = selecting_emul_trait
	}
	option = {
		name = EVTOPTBEACR101
		trigger = {
			NOR = {
				trait = craven
				trait = honest
			}
		}
		add_trait = devaraja
		clr_character_flag = selecting_emul_trait
	}
	option = {
		name = EVTOPTCEACR101
		trigger = {
			NOR = {
				trait = charitable
				trait = kind
			}
		}
		add_trait = maharaj
		clr_character_flag = selecting_emul_trait
	}
	option = {
		name = EVTOPTDEACR101
		piety = 100
		clr_character_flag = selecting_emul_trait
	}
}

#Experimental
letter_event = {
	id = eacr.108
	is_triggered_only = yes
	border = GFX_event_letter_frame_religion
	desc = EVTDESCEACR108
	option = {
		name = EVTOPTAEACR108
		random_list = {
			10 = {
				trigger = {
					NOR = {
						trait = lustful
						trait = wroth
					}
				}
				modifier = {
					factor = 2
					culture = old_thai
				}
				modifier = {
					factor = 2
					trait = just
				}
				modifier = {
					factor = 2
					trait = patient
				}
				modifier = {
					factor = 2
					trait = chaste
				}
				modifier = {
					factor = 2
					OR = {
						father_even_if_dead = {
							trait = dharmaraja
						}
						mother_even_if_dead = {
							trait = dharmaraja
						}
					}
				}
				modifier = {
					factor = 1.5
					OR = {
						father_even_if_dead = {
							OR = {
								father_even_if_dead = {
									trait = dharmaraja
								}
								mother_even_if_dead = {
									trait = dharmaraja
								}
							}
						}
						mother_even_if_dead = {
							OR = {
								father_even_if_dead = {
									trait = dharmaraja
								}
								mother_even_if_dead = {
									trait = dharmaraja
								}
							}
						}
					}
				}
				job_event_mtth_modifier_inverted_diplomacy_score = yes
				add_trait = dharmaraja
			}
			10 = {
				trigger = {
					NOR = {
						trait = charitable
						trait = kind
					}
				}
				modifier = {
					factor = 2
					culture = south_thai
				}
				modifier = {
					factor = 2
					trait = proud
				}
				modifier = {
					factor = 2
					trait = zealous
				}
				modifier = {
					factor = 2
					OR = {
						father_even_if_dead = {
							trait = devaraja
						}
						mother_even_if_dead = {
							trait = devaraja
						}
					}
				}
				modifier = {
					factor = 1.5
					OR = {
						father_even_if_dead = {
							OR = {
								father_even_if_dead = {
									trait = devaraja
								}
								mother_even_if_dead = {
									trait = devaraja
								}
							}
						}
						mother_even_if_dead = {
							OR = {
								father_even_if_dead = {
									trait = devaraja
								}
								mother_even_if_dead = {
									trait = devaraja
								}
							}
						}
					}
				}
				job_event_mtth_modifier_inverted_martial_score = yes
				add_trait = devaraja
			}
			10 = {
				trigger = {
					NOR = {
						trait = charitable
						trait = kind
					}
				}
				modifier = {
					factor = 2.2
					trait = greedy
				}
				modifier = {
					factor = 2.2
					trait = wroth
				}
				modifier = {
					factor = 2.2
					trait = ambitious
				}
				modifier = {
					factor = 2
					OR = {
						father_even_if_dead = {
							trait = maharaj
						}
						mother_even_if_dead = {
							trait = maharaj
						}
					}
				}
				modifier = {
					factor = 1.5
					OR = {
						father_even_if_dead = {
							OR = {
								father_even_if_dead = {
									trait = maharaj
								}
								mother_even_if_dead = {
									trait = maharaj
								}
							}
						}
						mother_even_if_dead = {
							OR = {
								father_even_if_dead = {
									trait = maharaj
								}
								mother_even_if_dead = {
									trait = maharaj
								}
							}
						}
					}
				}
				job_event_mtth_modifier_inverted_stewardship_score = yes
				add_trait = maharaj
			}
			10 = {
				trigger = {
					NOR = {
						trait = honest
						trait = content
						trait = trusting
					}
				}
				modifier = {
					factor = 2
					culture = myanmarese
				}
				modifier = {
					factor = 2
					trait = deceitful
				}
				modifier = {
					factor = 2
					trait = ambitious
				}
				modifier = {
					factor = 2
					trait = paranoid
				}
				modifier = {
					factor = 2
					OR = {
						father_even_if_dead = {
							trait = maharaj
						}
						mother_even_if_dead = {
							trait = maharaj
						}
					}
				}
				modifier = {
					factor = 1.5
					OR = {
						father_even_if_dead = {
							OR = {
								father_even_if_dead = {
									trait = maharaj
								}
								mother_even_if_dead = {
									trait = maharaj
								}
							}
						}
						mother_even_if_dead = {
							OR = {
								father_even_if_dead = {
									trait = maharaj
								}
								mother_even_if_dead = {
									trait = maharaj
								}
							}
						}
					}
				}
				job_event_mtth_modifier_inverted_intrigue_score = yes
				add_trait = maharaj
			}
			10 = {
				trigger = {
					NOR = {
						trait = craven
						trait = content
						trait = deceitful
						trait = arbitrary
						trait = dull
					}
				}
				modifier = {
					factor = 2
					trait = brave
				}
				modifier = {
					factor = 2
					trait = ambitious
				}
				modifier = {
					factor = 2
					trait = honest
				}
				modifier = {
					factor = 2
					trait = just
				}
				modifier = {
					factor = 2
					trait = shrewd
				}
				modifier = {
					factor = 2
					OR = {
						father_even_if_dead = {
							trait = maharaj
						}
						mother_even_if_dead = {
							trait = maharaj
						}
					}
				}
				modifier = {
					factor = 1.5
					OR = {
						father_even_if_dead = {
							OR = {
								father_even_if_dead = {
									trait = maharaj
								}
								mother_even_if_dead = {
									trait = maharaj
								}
							}
						}
						mother_even_if_dead = {
							OR = {
								father_even_if_dead = {
									trait = maharaj
								}
								mother_even_if_dead = {
									trait = maharaj
								}
							}
						}
					}
				}
				job_event_mtth_modifier_inverted_learning_score = yes
				add_trait = maharaj
			}
			fallback = {
				piety = 100
			}
		}
	}
	after = {
		clr_character_flag = selecting_emul_trait
	}
}
