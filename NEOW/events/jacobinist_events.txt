namespace = jacobinists
# 1-99: 	Jacobinist sacrifice events started by targeted decision
# 100-1000:	Jacobinist sacrifice quests
# 5001-5100	Jacobinist revolution and stuff like that
# jacobinists.1 got deleted
character_event = {
	id = jacobinists.2
	desc = EVTDESCJB2
	
	picture = GFX_evt_animated_guillotine
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTAJB2
	}
}
character_event = {
	id = jacobinists.3
	
	picture = GFX_evt_animated_guillotine
	border = GFX_event_normal_frame_war
	desc = { 
		trigger = { 
			religion = jacobinist
		} 
		text = EVTDESCJB3A
	}
	desc = {
		trigger = { 
			NOT = { religion = jacobinist }
		} 
		text = EVTDESCJB3B
	}
	is_triggered_only = yes
	
	option = {
		trigger = { 
			religion = jacobinist
		}
		name = EVTOPTAJB3
		piety = 100
	}
	option = {
		trigger = { 
			NOT = { religion = jacobinist }
		}
		name = EVTOPTBJB3
	}
}
narrative_event = {
	id = jacobinists.4
	title = EVTNAMEJB4
	picture = GFX_evt_animated_guillotine
	border = GFX_event_narrative_frame_war
	desc = { 
		trigger = {
			NOR = {
				trait = guillotine_master_1
				trait = guillotine_master_2
				trait = guillotine_master_3
				has_character_flag = becoming_guillotine_master_1
			}
		} 
		text = EVTDESCJB4A
	}
	desc = {
		trigger = {
			OR = {
				trait = guillotine_master_1
				trait = guillotine_master_2
				trait = guillotine_master_3
			}
		} 
		text = EVTDESCJB4B
	}
	desc = {
		trigger = {
			has_character_flag = becoming_guillotine_master_1
		} 
		text = EVTDESCJB4C
	}
	is_triggered_only = yes
	immediate = {
		if = {
			limit = { FROM = { is_ruler = no } }
			set_variable = { which = local_sacrifice_piety_gain value = 5 }
		}
		if = { 
			limit = { FROM = { tier = BARON } }
			set_variable = { which = local_sacrifice_piety_gain value = 15 }
		}
		if = { 
			limit = { FROM = { tier = COUNT } }
			set_variable = { which = local_sacrifice_piety_gain value = 30 }
		}
		if = { 
			limit = { FROM = { tier = DUKE } }
			set_variable = { which = local_sacrifice_piety_gain value = 75 }
		}
		if = { 
			limit = { FROM = { tier = KING } }
			set_variable = { which = local_sacrifice_piety_gain value = 150 }
		}
		if = { 
			limit = { FROM = { tier = EMPEROR } }
			set_variable = { which = local_sacrifice_piety_gain value = 250 }
		}
		#Guillotine Bloodline bonus.
		if = { 
			limit = { 
				FROM = { 
					is_ruler = no 
				} 
				ROOT = { 
					any_owned_bloodline = { 
						has_bloodline_flag = bloodline_prestige_sacrifice
					}
				} 
			}
			prestige = 10
		}
		if = { 
			limit = { 
				FROM = { 
					tier = BARON
				} 
				ROOT = { 
					any_owned_bloodline = { 
						has_bloodline_flag = bloodline_prestige_sacrifice
					}
				}
			}
			prestige = 30
		}
		if = { 
			limit = { 
				FROM = { 
					tier = COUNT
				} 
				ROOT = { 
					any_owned_bloodline = { 
						has_bloodline_flag = bloodline_prestige_sacrifice
					}
				}
			}
			prestige = 60
		}
		if = { 
			limit = { 
				FROM = { 
					tier = DUKE
				} 
				ROOT = { 
					any_owned_bloodline = { 
						has_bloodline_flag = bloodline_prestige_sacrifice
					}
				}
			}
			prestige = 150
		}
		if = { 
			limit = { 
				FROM = { 
					tier = KING
				} 
				ROOT = { 
					any_owned_bloodline = { 
						has_bloodline_flag = bloodline_prestige_sacrifice
					}
				}
			}
			prestige = 300
		}
		if = { 
			limit = { 
				FROM = { 
					tier = EMPEROR
				} 
				ROOT = { 
					any_owned_bloodline = { 
						has_bloodline_flag = bloodline_prestige_sacrifice
					}
				}
			}
			prestige = 500
		}
		FROM = {
			calculate_madame_preference_effect = yes
		}
		if = {
			limit = {
				FROM = { higher_tier_than = BARON }
			}
			multiply_variable = { which = local_sacrifice_piety_gain which = local_madame_preference }
			set_variable = { which = local_sacrifice_piety_gain_read which = local_sacrifice_piety_gain }
			multiply_variable = { which = local_sacrifice_piety_gain_read value = 0.6 }
		}
		else = {
			set_variable = { which = local_madame_preference_calc which = local_madame_preference }
			subtract_variable = { which = local_madame_preference_calc value = 1 }
			multiply_variable = { which = local_madame_preference_calc value = 25 }
			change_variable = { which = local_sacrifice_piety_gain which = local_madame_preference_calc }
			set_variable = { which = local_sacrifice_piety_gain_read which = local_sacrifice_piety_gain }
			if = {
				limit = {
					check_variable = { which = local_sacrifice_piety_gain_read value = 0 }
					NOT = { is_variable_equal = { which = local_sacrifice_piety_gain_read value = 0 } }
				}
				multiply_variable = { which = local_sacrifice_piety_gain_read value = 0.6 }
			}
			else = {
				subtract_variable = { which = local_sacrifice_piety_gain_read value = 2 }
			}
		}
		if = { # Is this even possible?
			limit = {
				check_variable = { which = local_madame_preference value = 3 }
			}
			change_variable = { which = guillotine_points value = 1 }
		}
		if = {
			limit = {
				check_variable = { which = local_madame_preference value = 2.6 }
			}
			change_variable = { which = guillotine_points value = 1 }
		}
		if = {
			limit = {
				check_variable = { which = local_madame_preference value = 2.2 }
			}
			change_variable = { which = guillotine_points value = 1 }
		}
		if = {
			limit = {
				check_variable = { which = local_madame_preference value = 1.8 }
			}
			change_variable = { which = guillotine_points value = 1 }
		}
		if = {
			limit = {
				check_variable = { which = local_madame_preference value = 1.4 }
			}
			jacobinist_sacrifice_tiered_traits_effect = yes
		}
		if = {
			limit = {
				OR = {
					trait = guillotine_master_1
					trait = guillotine_master_2
					trait = guillotine_master_3
					has_character_flag = becoming_guillotine_master_1
				}
			}
			add_blood_splatter_effect = yes
		}
	}
	option = {
		name = EVTOPTAJB4
		piety = local_sacrifice_piety_gain
		set_character_flag = decided_wont_read
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0.5
				trait = zealous
			}
			modifier = {
				factor = 0.75
				war = yes
			}
			modifier = {
				factor = 0.75
				any_courtier = {
					prisoner = yes
					host = { character = ROOT }
					NOT = { diplomatic_immunity = yes }
				}
			}
			modifier = {
				factor = 0.75
				any_courtier = {
					count = 2
					prisoner = yes
					host = { character = ROOT }
					NOT = { diplomatic_immunity = yes }
				}
			}
			modifier = {
				factor = 0.75
				any_courtier = {
					count = 3
					prisoner = yes
					host = { character = ROOT }
					NOT = { diplomatic_immunity = yes }
				}
			}
			modifier = {
				factor = 1.5
				OR = {
					trait = guillotine_master_2
					trait = guillotine_master_3
					has_character_flag = becoming_guillotine_master_2
				}
				job_spiritual = { always = yes }
			}
		}
	}
	option = {
		name = EVTOPTBJB4
		trigger = { 
			OR = {
				trait = guillotine_master_1
				trait = guillotine_master_2
				trait = guillotine_master_3
				has_character_flag = becoming_guillotine_master_1
			}
			job_spiritual = { always = yes }
		}
		set_character_flag = read_message_priest
		job_spiritual = { save_event_target_as = message_reader }
		piety = local_sacrifice_piety_gain_read
		ai_chance = {
			factor = 50
			modifier = {
				factor = 1.5
				trait = humble
			}
			modifier = {
				factor = 0
				trait = cynical
			}
			modifier = {
				factor = 1.5
				job_spiritual = { learning = 18 }
			}
			modifier = {
				factor = 0.5
				job_spiritual = { NOT = { learning = 8 } }
			}
		}
	}
	option = {
		name = EVTOPTCJB4
		trigger = { 
			OR = {
				trait = guillotine_master_2
				trait = guillotine_master_3
				has_character_flag = becoming_guillotine_master_2
			}
		}
		save_event_target_as = message_reader
		piety = local_sacrifice_piety_gain_read
		ai_chance = {
			factor = 50
			modifier = {
				factor = 1.5
				trait = proud
			}
			modifier = {
				factor = 0
				trait = cynical
			}
			modifier = {
				factor = 1.5
				learning = 18
			}
			modifier = {
				factor = 0.5
				NOT = { learning = 8 }
			}
		}
	}
	after = {
		jacobinist_gain_tiered_traits_effect = yes
		if = {
			limit = { event_target:message_reader = { always = yes } }
			event_target:message_reader = {
				show_scope_change = no
				random_list = {
					80 = { # Nothing...
						madame_reading_outcome_score = yes
						job_event_mtth_modifier_learning_score = yes
						ROOT = { narrative_event = { id = jacobinists.5 } }
					}
					20 = { # Learns the preference of the madame
						ROOT = { narrative_event = { id = jacobinists.6 } }
					}
					5 = { # Madame gives you a special opportunity
						trigger = {
							ROOT = {
								OR = {
									trait = guillotine_master_2
									trait = guillotine_master_3
								}
								OR = {
									NOT = { has_character_flag = had_madame_quest_find_peasant }
									had_character_flag = { flag = had_madame_quest_find_peasant days = 1095 }
									NOT = { has_character_flag = had_madame_quest_blood_tribuntary }
									had_character_flag = { flag = had_madame_quest_blood_tribuntary days = 1095 } #should wait at least 3 years to get again
									NOT = { has_character_flag = had_madame_quest_sacred_raid }
									had_character_flag = { flag = had_madame_quest_sacred_raid days = 1095 } #should wait at least 3 years to get again
									NOT = { has_character_flag = had_madame_quest_devistate_holding }
									had_character_flag = { flag = had_madame_quest_devistate_holding days = 1095 } #should wait at least 3 years to get again
								}
								NOT = { has_character_flag = ongoing_quest_madame }
							}
						}
						modifier = { factor = 0 }
						modifier = { factor = 1.1 character = ROOT } #bonus for doing it yourself
						modifier = { factor = 1.1 learning = 18 } #bonus for really high learning
						modifier = { factor = 1.1 learning = 19 }
						modifier = { factor = 1.1 learning = 20 }
						modifier = { factor = 1.1 learning = 21 }
						modifier = { factor = 1.1 learning = 22 }
						ROOT = { character_event = { id = jacobinists.7 } } # Quest pool
						set_character_flag = ongoing_madame_quest
					}
					1 = { # Madame asks you to begin a legendary journey
						modifier = { factor = 0 }
						modifier = {
							factor = 0
							ROOT = {
								OR = {
									NOT = { trait = guillotine_master_3 }
									has_character_flag = ongoing_quest_madame
								}
							}
						}
						modifier = { factor = 1.1 character = ROOT } #bonus for doing it yourself
						modifier = { factor = 1.1 learning = 18 } #bonus for really high learning
						modifier = { factor = 1.1 learning = 19 }
						modifier = { factor = 1.1 learning = 20 }
						modifier = { factor = 1.1 learning = 21 }
						modifier = { factor = 1.1 learning = 22 }
						modifier = { factor = 1.1 check_variable = { which = finished_madame_quests value = 1 } } # bonus if finished quests for the madame
						modifier = { factor = 1.1 check_variable = { which = finished_madame_quests value = 2 } }
						modifier = { factor = 1.1 check_variable = { which = finished_madame_quests value = 3 } }
						set_character_flag = ongoing_madame_quest
					}
				}
			}
		}
	}
}
narrative_event = {
	id = jacobinists.5 # Learns the preference of the madame
	title = EVTNAMEJB4
	picture = GFX_evt_beheading
	border = GFX_event_narrative_frame_war
	desc = { 
		trigger = { 
			event_target:message_reader = {
				NOT = {
					character = ROOT
				}
			}
		} 
		text = EVTDESCJB5A
	}
	desc = {
		trigger = {
			event_target:message_reader = {
				character = ROOT
			}
		}
		text = EVTDESCJB5B
	}
	is_triggered_only = yes
	show_from_from = yes
	option = {
		trigger = { 
			event_target:message_reader = {
				NOT = {
					character = ROOT
				}
			}
		}
		name = EVTOPTAJB5
		event_target:message_reader = {
			piety = -1
		}
	}
	option = {
		trigger = { 
			event_target:message_reader = {
				character = ROOT
			}
		}
		name = EVTOPTBJB5
		piety = -1
	}
}
narrative_event = {
	id = jacobinists.6 
	title = EVTNAMEJB4
	picture = GFX_evt_beheading
	border = GFX_event_narrative_frame_war
	desc = {
		trigger = {
			event_target:message_reader = {
				NOT = {
					character = ROOT
				}
			}
		}
		text = EVTDESCJB6A
	}
	desc = {
		trigger = {
			event_target:message_reader = {
				character = ROOT
			}
		}
		text = EVTDESCJB6B
	}
	immediate = {
		set_variable = { which = local_madame_liked value = 1.0 }
		random_list = {
			20 = {
				modifier = {
					factor = 0.2
					OR = {
						has_character_modifier = madame_wants_strong
						has_character_modifier = madame_wants_weak
					}
				}
				modifier = {
					factor = 0.6 # There is big overlap but they are rare traits
					OR = {
						has_character_modifier = madame_wants_attractive
						has_character_modifier = madame_wants_unattractive
					}
				}
				random_list = {
					1 = {
						set_variable = { which = local_madame_new_preference value = 1 }
						if = { limit = { FROMFROM = { is_strong_trigger = yes } } change_variable = { which = local_madame_liked value = 0.2 } }
						if = { limit = { FROMFROM = { is_weak_trigger = yes } } subtract_variable = { which = local_madame_liked value = 0.2 } }
					}
					1 = {
						set_variable = { which = local_madame_new_preference value = 2 }
						if = { limit = { FROMFROM = { is_weak_trigger = yes } } change_variable = { which = local_madame_liked value = 0.2 } }
						if = { limit = { FROMFROM = { is_strong_trigger = yes } } subtract_variable = { which = local_madame_liked value = 0.2 } }
					}
				}
				remove_character_modifier = madame_wants_strong
				remove_character_modifier = madame_wants_weak
			}
			20 = {
				modifier = {
					factor = 0.2
					OR = {
						has_character_modifier = madame_wants_smart
						has_character_modifier = madame_wants_dumb
					}
				}
				random_list = {
					1 = {
						set_variable = { which = local_madame_new_preference value = 3 }
						if = { limit = { FROMFROM = { is_smart_trigger = yes } } change_variable = { which = local_madame_liked value = 0.2 } }
						if = { limit = { FROMFROM = { is_dumb_trigger = yes } } subtract_variable = { which = local_madame_liked value = 0.2 } }
					}
					1 = {
						set_variable = { which = local_madame_new_preference value = 4 }
						if = { limit = { FROMFROM = { is_dumb_trigger = yes } } change_variable = { which = local_madame_liked value = 0.2 } }
						if = { limit = { FROMFROM = { is_smart_trigger = yes } } subtract_variable = { which = local_madame_liked value = 0.2 } }
					}
				}
				remove_character_modifier = madame_wants_smart
				remove_character_modifier = madame_wants_dumb
			}
			20 = {
				modifier = {
					factor = 0.2
					OR = {
						has_character_modifier = madame_wants_virtue
						has_character_modifier = madame_wants_vice
					}
				}
				random_list = {
					1 = {
						set_variable = { which = local_madame_new_preference value = 5 }
						if = { limit = { FROMFROM = { has_virtue_trigger = yes } } change_variable = { which = local_madame_liked value = 0.2 } }
						if = { limit = { FROMFROM = { has_vice_trigger = yes } } subtract_variable = { which = local_madame_liked value = 0.2 } }
					}
					1 = {
						set_variable = { which = local_madame_new_preference value = 6 }
						if = { limit = { FROMFROM = { has_vice_trigger = yes } } change_variable = { which = local_madame_liked value = 0.2 } }
						if = { limit = { FROMFROM = { has_virtue_trigger = yes } } subtract_variable = { which = local_madame_liked value = 0.2 } }
					}
				}
				remove_character_modifier = madame_wants_virtue
				remove_character_modifier = madame_wants_vice
			}
			20 = {
				modifier = {
					factor = 0.2
					OR = {
						has_character_modifier = madame_wants_attractive
						has_character_modifier = madame_wants_unattractive
					}
				}
				modifier = {
					factor = 0.75 # There is overlap
					OR = {
						has_character_modifier = madame_wants_strong
						has_character_modifier = madame_wants_weak
					}
				}
				random_list = {
					1 = {
						set_variable = { which = local_madame_new_preference value = 7 }
						if = { limit = { FROMFROM = { is_attractive_trigger = yes } } change_variable = { which = local_madame_liked value = 0.2 } }
						if = { limit = { FROMFROM = { is_unattractive_trigger = yes } } subtract_variable = { which = local_madame_liked value = 0.2 } }
					}
					1 = {
						set_variable = { which = local_madame_new_preference value = 8 }
						if = { limit = { FROMFROM = { is_unattractive_trigger = yes } } change_variable = { which = local_madame_liked value = 0.2 } }
						if = { limit = { FROMFROM = { is_attractive_trigger = yes } } subtract_variable = { which = local_madame_liked value = 0.2 } }
					}
				}
				remove_character_modifier = madame_wants_attractive
				remove_character_modifier = madame_wants_unattractive
			}
			10 = {
				modifier = {
					factor = 0.2
					OR = {
						has_character_modifier = madame_wants_martial
						has_character_modifier = madame_wants_diplomacy
						has_character_modifier = madame_wants_stewardship
					}
				}
				set_variable = { which = local_madame_new_preference value = 9 }
				if = { limit = { FROMFROM = { into_diplomacy_trigger = yes } } change_variable = { which = local_madame_liked value = 0.2 } }
				if = { limit = { FROMFROM = { into_stewardship_trigger = yes } } subtract_variable = { which = local_madame_liked value = 0.2 } }
				remove_character_modifier = madame_wants_martial
				remove_character_modifier = madame_wants_diplomacy
				remove_character_modifier = madame_wants_stewardship
			}
			10 = {
				modifier = {
					factor = 0.2
					OR = {
						has_character_modifier = madame_wants_learning
						has_character_modifier = madame_wants_martial
						has_character_modifier = madame_wants_diplomacy
					}
				}
				set_variable = { which = local_madame_new_preference value = 10 }
				if = { limit = { FROMFROM = { into_martial_trigger = yes } } change_variable = { which = local_madame_liked value = 0.2 } }
				if = { limit = { FROMFROM = { into_diplomacy_trigger = yes } } subtract_variable = { which = local_madame_liked value = 0.2 } }
				remove_character_modifier = madame_wants_martial
				remove_character_modifier = madame_wants_diplomacy
				remove_character_modifier = madame_wants_learning
			}
			10 = {
				modifier = {
					factor = 0.2
					OR = {
						has_character_modifier = madame_wants_intrigue
						has_character_modifier = madame_wants_learning
						has_character_modifier = madame_wants_martial
					}
				}
				set_variable = { which = local_madame_new_preference value = 11 }
				if = { limit = { FROMFROM = { into_learning_trigger = yes } } change_variable = { which = local_madame_liked value = 0.2 } }
				if = { limit = { FROMFROM = { into_martial_trigger = yes } } subtract_variable = { which = local_madame_liked value = 0.2 } }
				remove_character_modifier = madame_wants_martial
				remove_character_modifier = madame_wants_intrigue
				remove_character_modifier = madame_wants_learning
			}
			10 = {
				modifier = {
					factor = 0.2
					OR = {
						has_character_modifier = madame_wants_stewardship
						has_character_modifier = madame_wants_intrigue
						has_character_modifier = madame_wants_learning
					}
				}
				set_variable = { which = local_madame_new_preference value = 12 }
				if = { limit = { FROMFROM = { into_intrigue_trigger = yes } } change_variable = { which = local_madame_liked value = 0.2 } }
				if = { limit = { FROMFROM = { into_learning_trigger = yes } } subtract_variable = { which = local_madame_liked value = 0.2 } }
				remove_character_modifier = madame_wants_stewardship
				remove_character_modifier = madame_wants_intrigue
				remove_character_modifier = madame_wants_learning
			}
			10 = {
				modifier = {
					factor = 0.2
					OR = {
						has_character_modifier = madame_wants_diplomacy
						has_character_modifier = madame_wants_stewardship
						has_character_modifier = madame_wants_intrigue
					}
				}
				set_variable = { which = local_madame_new_preference value = 13 }
				if = { limit = { FROMFROM = { into_stewardship_trigger = yes } } change_variable = { which = local_madame_liked value = 0.2 } }
				if = { limit = { FROMFROM = { into_intrigue_trigger = yes } } subtract_variable = { which = local_madame_liked value = 0.2 } }
				remove_character_modifier = madame_wants_stewardship
				remove_character_modifier = madame_wants_intrigue
				remove_character_modifier = madame_wants_diplomacy
			}
			20 = {
				modifier = {
					factor = 0.2
					OR = {
						has_character_modifier = madame_wants_young
						has_character_modifier = madame_wants_old
					}
				}
				random_list = {
					1 = {
						set_variable = { which = local_madame_new_preference value = 14 }
						if = { limit = { FROMFROM = { NOT = { age = 17 } } } change_variable = { which = local_madame_liked value = 0.2 } }
						if = { limit = { FROMFROM = { age = 50 } } subtract_variable = { which = local_madame_liked value = 0.2 } }
					}
					1 = {
						set_variable = { which = local_madame_new_preference value = 15 }
						if = { limit = { FROMFROM = { age = 50 } } change_variable = { which = local_madame_liked value = 0.2 } }
						if = { limit = { FROMFROM = { NOT = { age = 17 } } } subtract_variable = { which = local_madame_liked value = 0.2 } }
					}
				}
				remove_character_modifier = madame_wants_young
				remove_character_modifier = madame_wants_old
			}
			25 = {
				modifier = {
					factor = 0.2
					OR = {
						has_character_modifier = madame_wants_christian
						has_character_modifier = madame_wants_esoteric
						has_character_modifier = madame_wants_pagan_group
						has_character_modifier = madame_wants_jewish_group
						has_character_modifier = madame_wants_oceanic
						has_character_modifier = madame_wants_muslim
						has_character_modifier = madame_wants_indian_group
						has_character_modifier = madame_wants_buddhist_group
						has_character_modifier = madame_wants_zoroastrian_group
						has_character_modifier = madame_wants_communist
						has_character_modifier = madame_wants_zarist
						has_character_modifier = madame_wants_ironist
						has_character_modifier = madame_wants_khanist
						has_character_modifier = madame_wants_jacobinist
					}
				}
				random_list = {
					5 = {
						trigger = { OR = { any_realm_lord = { religion_group = christian } any_independent_ruler = { is_within_diplo_range = ROOT religion_group = christian is_landed = yes } } }
						modifier = { factor = 0.2 NOR = { any_vassal = { religion_group = christian } any_neighbor_independent_ruler = { religion_group = christian is_landed = yes } } }
						set_variable = { which = local_madame_new_preference value = 16 }
					}
					5 = {
						trigger = { OR = { any_realm_lord = { religion_group = esoteric } any_independent_ruler = { is_within_diplo_range = ROOT religion_group = esoteric is_landed = yes } } }
						modifier = { factor = 0.2 NOR = { any_vassal = { religion_group = esoteric } any_neighbor_independent_ruler = { religion_group = esoteric is_landed = yes } } }
						set_variable = { which = local_madame_new_preference value = 17 }
					}
					5 = {
						trigger = { OR = { any_realm_lord = { religion_group = pagan_group } any_independent_ruler = { is_within_diplo_range = ROOT religion_group = pagan_group is_landed = yes } } }
						modifier = { factor = 0.2 NOR = { any_vassal = { religion_group = pagan_group } any_neighbor_independent_ruler = { religion_group = pagan_group is_landed = yes } } }
						set_variable = { which = local_madame_new_preference value = 18 }
					}
					5 = {
						trigger = { OR = { any_realm_lord = { religion_group = jewish_group } any_independent_ruler = { is_within_diplo_range = ROOT religion_group = jewish_group is_landed = yes } } }
						modifier = { factor = 0.2 NOR = { any_vassal = { religion_group = jewish_group } any_neighbor_independent_ruler = { religion_group = jewish_group is_landed = yes } } }
						set_variable = { which = local_madame_new_preference value = 19 }
					}
					5 = {
						trigger = { OR = { any_realm_lord = { religion_group = oceanic } any_independent_ruler = { is_within_diplo_range = ROOT religion_group = oceanic is_landed = yes } } }
						modifier = { factor = 0.2 NOR = { any_vassal = { religion_group = oceanic } any_neighbor_independent_ruler = { religion_group = oceanic is_landed = yes } } }
						set_variable = { which = local_madame_new_preference value = 20 }
					}
					5 = {
						trigger = { OR = { any_realm_lord = { religion_group = muslim } any_independent_ruler = { is_within_diplo_range = ROOT religion_group = muslim is_landed = yes } } }
						modifier = { factor = 0.2 NOR = { any_vassal = { religion_group = muslim } any_neighbor_independent_ruler = { religion_group = muslim is_landed = yes } } }
						set_variable = { which = local_madame_new_preference value = 21 }
					}
					5 = {
						trigger = { OR = { any_realm_lord = { religion_group = indian_group } any_independent_ruler = { is_within_diplo_range = ROOT religion_group = indian_group is_landed = yes } } }
						modifier = { factor = 0.2 NOR = { any_vassal = { religion_group = indian_group } any_neighbor_independent_ruler = { religion_group = indian_group is_landed = yes } } }
						set_variable = { which = local_madame_new_preference value = 22 }
					}
					5 = {
						trigger = { OR = { any_realm_lord = { religion_group = buddhist_group } any_independent_ruler = { is_within_diplo_range = ROOT religion_group = buddhist_group is_landed = yes } } }
						modifier = { factor = 0.2 NOR = { any_vassal = { religion_group = buddhist_group } any_neighbor_independent_ruler = { religion_group = buddhist_group is_landed = yes } } }
						set_variable = { which = local_madame_new_preference value = 23 }
					}
					5 = {
						trigger = { OR = { any_realm_lord = { religion_group = zoroastrian_group } any_independent_ruler = { is_within_diplo_range = ROOT religion_group = zoroastrian_group is_landed = yes } } }
						modifier = { factor = 0.2 NOR = { any_vassal = { religion_group = zoroastrian_group } any_neighbor_independent_ruler = { religion_group = zoroastrian_group is_landed = yes } } }
						set_variable = { which = local_madame_new_preference value = 24 }
					}
					5 = {
						trigger = { OR = { any_realm_lord = { is_communist_religion_trigger = yes } any_independent_ruler = { is_within_diplo_range = ROOT is_communist_religion_trigger = yes is_landed = yes } } }
						modifier = { factor = 0.2 NOR = { any_vassal = { is_communist_religion_trigger = yes } any_neighbor_independent_ruler = { is_communist_religion_trigger = yes is_landed = yes } } }
						set_variable = { which = local_madame_new_preference value = 25 }
					}
					5 = {
						trigger = { OR = { any_realm_lord = { is_zarist_religion_trigger = yes } any_independent_ruler = { is_within_diplo_range = ROOT is_zarist_religion_trigger = yes is_landed = yes } } }
						modifier = { factor = 0.2 NOR = { any_vassal = { is_zarist_religion_trigger = yes } any_neighbor_independent_ruler = { is_zarist_religion_trigger = yes is_landed = yes } } }
						set_variable = { which = local_madame_new_preference value = 26 }
					}
					5 = {
						trigger = { OR = { any_realm_lord = { is_ironist_religion_trigger = yes } any_independent_ruler = { is_within_diplo_range = ROOT is_ironist_religion_trigger = yes is_landed = yes } } }
						modifier = { factor = 0.2 NOR = { any_vassal = { is_ironist_religion_trigger = yes } any_neighbor_independent_ruler = { is_ironist_religion_trigger = yes is_landed = yes } } }
						set_variable = { which = local_madame_new_preference value = 28 }
					}
					5 = {
						trigger = { OR = { any_realm_lord = { is_khanist_religion_trigger = yes } any_independent_ruler = { is_within_diplo_range = ROOT is_khanist_religion_trigger = yes is_landed = yes } } }
						modifier = { factor = 0.2 NOR = { any_vassal = { is_khanist_religion_trigger = yes } any_neighbor_independent_ruler = { is_khanist_religion_trigger = yes is_landed = yes } } }
						set_variable = { which = local_madame_new_preference value = 29 }
					}
					5 = { #Jacobinists
						set_variable = { which = local_madame_new_preference value = 30 }
					}
				}
				FROMFROM = {
					trigger_switch = {
						on_trigger = religion_group
						christian				= { if = { limit = { is_variable_equal = { which = local_madame_new_preference value = 16 } } change_variable = { which = local_madame_liked value = 0.2 } } else = { subtract_variable = { which = local_madame_liked value = 0.2 } } }
						esoteric				= { if = { limit = { is_variable_equal = { which = local_madame_new_preference value = 17 } } change_variable = { which = local_madame_liked value = 0.2 } } else = { subtract_variable = { which = local_madame_liked value = 0.2 } } }
						pagan_group				= { if = { limit = { is_variable_equal = { which = local_madame_new_preference value = 18 } } change_variable = { which = local_madame_liked value = 0.2 } } else = { subtract_variable = { which = local_madame_liked value = 0.2 } } }
						jewish_group			= { if = { limit = { is_variable_equal = { which = local_madame_new_preference value = 19 } } change_variable = { which = local_madame_liked value = 0.2 } } else = { subtract_variable = { which = local_madame_liked value = 0.2 } } }
						oceanic					= { if = { limit = { is_variable_equal = { which = local_madame_new_preference value = 20 } } change_variable = { which = local_madame_liked value = 0.2 } } else = { subtract_variable = { which = local_madame_liked value = 0.2 } } }
						muslim					= { if = { limit = { is_variable_equal = { which = local_madame_new_preference value = 21 } } change_variable = { which = local_madame_liked value = 0.2 } } else = { subtract_variable = { which = local_madame_liked value = 0.2 } } }
						indian_group			= { if = { limit = { is_variable_equal = { which = local_madame_new_preference value = 22 } } change_variable = { which = local_madame_liked value = 0.2 } } else = { subtract_variable = { which = local_madame_liked value = 0.2 } } }
						buddhist_group			= { if = { limit = { is_variable_equal = { which = local_madame_new_preference value = 23 } } change_variable = { which = local_madame_liked value = 0.2 } } else = { subtract_variable = { which = local_madame_liked value = 0.2 } } }
						zoroastrian_group		= { if = { limit = { is_variable_equal = { which = local_madame_new_preference value = 24 } } change_variable = { which = local_madame_liked value = 0.2 } } else = { subtract_variable = { which = local_madame_liked value = 0.2 } } }
						old_world_cultist_group	= {
							if = {
								limit = {
									NOT = {
										check_variable = { which = local_madame_new_preference value = 25 }
									}
								}
								subtract_variable = { which = local_madame_liked value = 0.2 }
							}
							else = {
								if = { limit = { is_communist_religion_trigger = yes is_variable_equal = { which = local_madame_new_preference value = 25 } } change_variable = { which = local_madame_liked value = 0.2 } }
								if = { limit = { is_zarist_religion_trigger = yes is_variable_equal = { which = local_madame_new_preference value = 26 } } change_variable = { which = local_madame_liked value = 0.2 } }
								if = { limit = { is_ironist_religion_trigger = yes is_variable_equal = { which = local_madame_new_preference value = 28 } } change_variable = { which = local_madame_liked value = 0.2 } }
								if = { limit = { is_khanist_religion_trigger = yes is_variable_equal = { which = local_madame_new_preference value = 29 } } change_variable = { which = local_madame_liked value = 0.2 } }
								if = { limit = { is_jacobinist_religion_trigger = yes is_variable_equal = { which = local_madame_new_preference value = 30 } } change_variable = { which = local_madame_liked value = 0.2 } }
							}
						}
					}
				}
				remove_character_modifier = madame_wants_christian
				remove_character_modifier = madame_wants_esoteric
				remove_character_modifier = madame_wants_pagan_group
				remove_character_modifier = madame_wants_jewish_group
				remove_character_modifier = madame_wants_oceanic
				remove_character_modifier = madame_wants_muslim
				remove_character_modifier = madame_wants_indian_group
				remove_character_modifier = madame_wants_buddhist_group
				remove_character_modifier = madame_wants_zoroastrian_group
				remove_character_modifier = madame_wants_communist
				remove_character_modifier = madame_wants_zarist
				remove_character_modifier = madame_wants_nobelian
				remove_character_modifier = madame_wants_ironist
				remove_character_modifier = madame_wants_khanist
				remove_character_modifier = madame_wants_jacobinist
			}
			20 = {
				modifier = {
					factor = 0.2
					OR = {
						has_character_modifier = madame_wants_female
						has_character_modifier = madame_wants_male
					}
				}
				random_list = {
					1 = {
						set_variable = { which = local_madame_new_preference value = 31 }
						if = { limit = { FROMFROM = { is_female = yes } } change_variable = { which = local_madame_liked value = 0.2 } }
						if = { limit = { FROMFROM = { is_female = no } } subtract_variable = { which = local_madame_liked value = 0.2 } }
					}
					1 = {
						set_variable = { which = local_madame_new_preference value = 32 }
						if = { limit = { FROMFROM = { is_female = no } } change_variable = { which = local_madame_liked value = 0.2 } }
						if = { limit = { FROMFROM = { is_female = yes } } subtract_variable = { which = local_madame_liked value = 0.2 } }
					}
				}
				remove_character_modifier = madame_wants_female
				remove_character_modifier = madame_wants_male
			}
		}
		if = {
			limit = {
				check_variable = { which = local_madame_liked value = 1.2 }
			}
			jacobinist_sacrifice_tiered_traits_effect = yes # Gave good sacrifice, might rank up
		}
	}
	is_triggered_only = yes
	show_from_from = yes
	option = {
		trigger = {
			event_target:message_reader = {
				NOT = {
					character = ROOT
				}
			}
			is_variable_equal = { which = local_madame_liked value = 1.0 }
		}
		name = EVTOPTAJB6 # Just gets modifier
		event_target:message_reader = {
			piety = 5
		}
		piety = 5
	}
	option = {
		trigger = {
			event_target:message_reader = {
				character = ROOT
			}
			is_variable_equal = { which = local_madame_liked value = 1.0 }
		}
		name = EVTOPTBJB6 # Just gets modifier
		piety = 10
	}
	option = {
		trigger = {
			event_target:message_reader = {
				NOT = {
					character = ROOT
				}
			}
			NOT = { check_variable = { which = local_madame_liked value = 1.0 } }
		}
		name = EVTOPTCJB6 # Gave bad sacrifice
		event_target:message_reader = {
			piety = -5
		}
		piety = -10
	}
	option = {
		trigger = {
			event_target:message_reader = {
				character = ROOT
			}
			NOT = { check_variable = { which = local_madame_liked value = 1.0 } }
		}
		name = EVTOPTDJB6 # Gave bad sacrifice
		piety = -15
	}
	option = {
		trigger = {
			event_target:message_reader = {
				NOT = {
					character = ROOT
				}
			}
			check_variable = { which = local_madame_liked value = 1.2 }
		}
		name = EVTOPTEJB6 # Gave good sacrifice
		event_target:message_reader = {
			piety = 10
		}
		piety = 30
	}
	option = {
		trigger = {
			event_target:message_reader = {
				character = ROOT
			}
			check_variable = { which = local_madame_liked value = 1.2 }
		}
		name = EVTOPTFJB6 # Gave good sacrifice
		piety = 40
	}
	after = {
		jacobinist_gain_tiered_traits_effect = yes
		if = { limit = { is_variable_equal = { which = local_madame_new_preference value = 1 }  } add_character_modifier = { name = madame_wants_strong years = 5 } }
		else_if = { limit = { is_variable_equal = { which = local_madame_new_preference value = 2 }  } add_character_modifier = { name = madame_wants_weak years = 5 } }
		else_if = { limit = { is_variable_equal = { which = local_madame_new_preference value = 3 }  } add_character_modifier = { name = madame_wants_smart years = 5 } }
		else_if = { limit = { is_variable_equal = { which = local_madame_new_preference value = 4 }  } add_character_modifier = { name = madame_wants_dumb years = 5 } }
		else_if = { limit = { is_variable_equal = { which = local_madame_new_preference value = 5 }  } add_character_modifier = { name = madame_wants_virtue years = 5 } }
		else_if = { limit = { is_variable_equal = { which = local_madame_new_preference value = 6 }  } add_character_modifier = { name = madame_wants_vice years = 5 } }
		else_if = { limit = { is_variable_equal = { which = local_madame_new_preference value = 7 }  } add_character_modifier = { name = madame_wants_attractive years = 5 } }
		else_if = { limit = { is_variable_equal = { which = local_madame_new_preference value = 8 }  } add_character_modifier = { name = madame_wants_unattractive years = 5 } }
		else_if = { limit = { is_variable_equal = { which = local_madame_new_preference value = 9 }  } add_character_modifier = { name = madame_wants_diplomacy years = 5 } }
		else_if = { limit = { is_variable_equal = { which = local_madame_new_preference value = 10 }  } add_character_modifier = { name = madame_wants_martial years = 5 } }
		else_if = { limit = { is_variable_equal = { which = local_madame_new_preference value = 11 }  } add_character_modifier = { name = madame_wants_learning years = 5 } }
		else_if = { limit = { is_variable_equal = { which = local_madame_new_preference value = 12 }  } add_character_modifier = { name = madame_wants_intrigue years = 5 } }
		else_if = { limit = { is_variable_equal = { which = local_madame_new_preference value = 13 }  } add_character_modifier = { name = madame_wants_stewardship years = 5 } }
		else_if = { limit = { is_variable_equal = { which = local_madame_new_preference value = 14 }  } add_character_modifier = { name = madame_wants_young years = 5 } }
		else_if = { limit = { is_variable_equal = { which = local_madame_new_preference value = 15 }  } add_character_modifier = { name = madame_wants_old years = 5 } }
		else_if = { limit = { is_variable_equal = { which = local_madame_new_preference value = 16 }  } add_character_modifier = { name = madame_wants_christian years = 5 } }
		else_if = { limit = { is_variable_equal = { which = local_madame_new_preference value = 17 }  } add_character_modifier = { name = madame_wants_esoteric years = 5 } }
		else_if = { limit = { is_variable_equal = { which = local_madame_new_preference value = 18 }  } add_character_modifier = { name = madame_wants_pagan_group years = 5 } }
		else_if = { limit = { is_variable_equal = { which = local_madame_new_preference value = 19 }  } add_character_modifier = { name = madame_wants_jewish_group years = 5 } }
		else_if = { limit = { is_variable_equal = { which = local_madame_new_preference value = 20 }  } add_character_modifier = { name = madame_wants_oceanic years = 5 } }
		else_if = { limit = { is_variable_equal = { which = local_madame_new_preference value = 21 }  } add_character_modifier = { name = madame_wants_muslim years = 5 } }
		else_if = { limit = { is_variable_equal = { which = local_madame_new_preference value = 22 }  } add_character_modifier = { name = madame_wants_indian_group years = 5 } }
		else_if = { limit = { is_variable_equal = { which = local_madame_new_preference value = 23 }  } add_character_modifier = { name = madame_wants_buddhist_group years = 5 } }
		else_if = { limit = { is_variable_equal = { which = local_madame_new_preference value = 24 }  } add_character_modifier = { name = madame_wants_zoroastrian_group years = 5 } }
		else_if = { limit = { is_variable_equal = { which = local_madame_new_preference value = 25 }  } add_character_modifier = { name = madame_wants_communist years = 5 } }
		else_if = { limit = { is_variable_equal = { which = local_madame_new_preference value = 26 }  } add_character_modifier = { name = madame_wants_zarist years = 5 } }
		else_if = { limit = { is_variable_equal = { which = local_madame_new_preference value = 27 }  } add_character_modifier = { name = madame_wants_nobelian years = 5 } }
		else_if = { limit = { is_variable_equal = { which = local_madame_new_preference value = 28 }  } add_character_modifier = { name = madame_wants_ironist years = 5 } }
		else_if = { limit = { is_variable_equal = { which = local_madame_new_preference value = 29 }  } add_character_modifier = { name = madame_wants_khanist years = 5 } }
		else_if = { limit = { is_variable_equal = { which = local_madame_new_preference value = 30 }  } add_character_modifier = { name = madame_wants_jacobinist years = 5 } }
		else_if = { limit = { is_variable_equal = { which = local_madame_new_preference value = 31 }  } add_character_modifier = { name = madame_wants_female years = 5 } }
		else_if = { limit = { is_variable_equal = { which = local_madame_new_preference value = 32 }  } add_character_modifier = { name = madame_wants_male years = 5 } }
	}
}
character_event = {
	id = jacobinists.7
	hide_window = yes
	is_triggered_only = yes
	immediate = {
		random_list = {
			5 = {
				trigger = {
					OR = {
						NOT = { has_character_flag = had_madame_quest_find_peasant }
						had_character_flag = { flag = had_madame_quest_find_peasant days = 1095 } #should wait at least 3 years to get again
					}
				}
				modifier = {
					factor = 0.5 # less likely to see twince
					has_character_flag = had_madame_quest_find_peasant
				}
			}
			5 = {
				trigger = {
					OR = {
						NOT = { has_character_flag = had_madame_quest_blood_tribuntary }
						had_character_flag = { flag = had_madame_quest_blood_tribuntary days = 1095 } #should wait at least 3 years to get again
					}
				}
				modifier = {
					factor = 0.5 # less likely to see twince
					has_character_flag = had_madame_quest_blood_tribuntary
				}
				character_event = { id = jacobinists.200 }
			}
			5 = {
				trigger = {
					OR = {
						NOT = { has_character_flag = had_madame_quest_sacred_raid }
						had_character_flag = { flag = had_madame_quest_sacred_raid days = 1095 } #should wait at least 3 years to get again
					}
				}
				modifier = {
					factor = 0.5 # less likely to see twince
					has_character_flag = had_madame_quest_sacred_raid
				}
			}
			5 = {
				trigger = {
					OR = {
						NOT = { has_character_flag = had_madame_quest_devistate_holding }
						had_character_flag = { flag = had_madame_quest_devistate_holding days = 1095 } #should wait at least 3 years to get again
					}
				}
				modifier = {
					factor = 0.5 # less likely to see twince
					has_character_flag = had_madame_quest_devistate_holding
				}
			}
		}
	}
}
province_event = {
	id = jacobinists.8
	hide_window = yes	
	
	trigger = {
		religion = jacobinist
		owner = {
			NOT = {
				religion = jacobinist
			}
		}
		NOT = {
			has_province_modifier = jacobinist_peasant_unrest
		}
	}
	mean_time_to_happen = {
		days = 1
	}
	immediate={
		add_province_modifier = {
			name = jacobinist_peasant_unrest
			duration = -1
		}
	}
}
province_event = {
	id = jacobinists.9
	hide_window = yes
	
	trigger = {
		OR = {
			owner = {
				religion = jacobinist
			}
			NOT = { religion = jacobinist }
		}
		has_province_modifier = jacobinist_peasant_unrest
	}
	mean_time_to_happen = {
		days = 1
	}
	immediate={
		remove_province_modifier = jacobinist_peasant_unrest
	}
}
character_event = {
	id = jacobinists.200
	picture = GFX_evt_beheading
	border = GFX_event_normal_frame_war
	desc = {
		trigger = {
			event_target:message_reader = {
				NOT = {
					character = ROOT
				}
			}
		}
		text = EVTDESCJB6A
	}
	desc = {
		trigger = {
			event_target:message_reader = {
				character = ROOT
			}
		}
		text = EVTDESCJB6B
	}
	is_triggered_only = yes
	show_from_from = yes
	option = {
		trigger = {
			event_target:message_reader = {
				NOT = {
					character = ROOT
				}
			}
			is_variable_equal = { which = local_madame_liked value = 1.0 }
		}
		name = EVTOPTAJB6 # Just gets modifier
		event_target:message_reader = {
			piety = 5
		}
		piety = 5
	}
	option = {
		trigger = {
			event_target:message_reader = {
				character = ROOT
			}
			is_variable_equal = { which = local_madame_liked value = 1.0 }
		}
		name = EVTOPTBJB6 # Just gets modifier
		piety = 10
	}
	option = {
		trigger = {
			event_target:message_reader = {
				NOT = {
					character = ROOT
				}
			}
			NOT = { check_variable = { which = local_madame_liked value = 1.0 } }
		}
		name = EVTOPTCJB6 # Gave bad sacrifice
		event_target:message_reader = {
			piety = -5
		}
		piety = -10
	}
}
# JACOBINS RISE UP, BOTTOM TEXT
narrative_event = {
	id = jacobinists.5001
	title = EVTNAMEJB1
	desc = EVTDESCJB1
	picture = GFX_evt_animated_revolution
	border = GFX_event_narrative_frame_religion
	
	major = yes
	
	only_playable = yes
	only_independent = yes
	portrait = event_target:jacobin_invasion_leader
	show_ROOT = yes
	trigger = {
		jacobinist_revolution_trigger = yes
	}
	
	mean_time_to_happen = {
		months = 3000
		modifier = {
			factor = 0.25
			c_ile_de_france = {
				holder_scope = {
					same_realm = ROOT
				}
			}
		}
		modifier = {
			factor = 2.0
			year = 2600
		}
		modifier = {
			factor = 2.0
			year = 2700
		}
		modifier = {
			factor = 2.0
			year = 2800
		}
		modifier = {
			factor = 2.0
			year = 2900
		}
		modifier = {
			factor = 2.0
			religion_group = christian
		}
		modifier = {
			factor = 10.0
			ai = no
		}
	}
	
	immediate = {
		set_character_flag = jacobin_revolt
		set_global_flag = jacobin_revolt_ongoing
		random_realm_province = {
			limit = {
				kingdom = {
					OR = {
						has_holder = no
						holder_scope = {
							character = ROOT
						}
					}
					num_title_realm_provs = {
						who = ROOT
						value = 4
					}
				}
			}
			preferred_limit = {
				ROOT = {
					ai = yes
					capital_scope = {
						province = PREVPREV
					}
				}
			}
			preferred_limit = {
				kingdom = {
					num_title_realm_provs = {
						who = ROOT
						value = 10
					}
				}
			}
			preferred_limit = {
				kingdom = {
					num_title_realm_provs = {
						who = ROOT
						value = 6
					}
				}
			}
			save_event_target_as = spawn_province
		}		
		event_target:spawn_province = {
	
			religion = jacobinist
			
		
			ROOT = {
				create_character = {
					dynasty = random
					religion = jacobinist
					culture = ROOT
					female = no
					age = 19
					health = 7
					fertility = 0.7
					random_traits = yes
					attributes = {
						learning = 4
						diplomacy = 4
						martial = 6
						stewardship = 4
						intrigue = 4
					}
				}
				
				new_character = {
					if = {
						limit = {
							has_dlc = "Holy Fury"
						}
						create_bloodline = {
							type = madam_chosen_bloodline
						}
					}
					set_character_flag = jacobinist_leader
					save_global_event_target_as = jacobin_invasion_leader
					add_trait = peasant_noble
					add_trait = jacobinist_leader
					remove_trait = slow
					remove_trait = imbecile
					remove_trait = dull
					remove_lifestyle_trait_effect = yes
					remove_trait = craven
					remove_trait = ugly
					remove_trait = uncouth
					remove_trait = feeble
					remove_trait = dwarf
					remove_trait = giant
					remove_trait = clubfooted
					remove_trait = harelip
					remove_trait = hunchback
					remove_trait = lisp
					remove_trait = weak
					remove_trait = lunatic
					remove_trait = shrewd
					remove_trait = quick
					remove_trait = genius
					remove_trait = strong
					remove_trait = cynical
					remove_trait = content
					remove_trait = fair
					remove_trait = barren
					remove_trait = haemophiliac
					random_list = {
						1 = { change_learning = 2 }
						1 = { change_diplomacy = 2 }
						1 = { change_stewardship = 2 }
						1 = { change_intrigue = 2 }
						1 = { change_martial = 2 }
					}
					random_list = {
						1 = { change_learning = 3 }
						1 = { change_diplomacy = 3 }
						1 = { change_stewardship = 3 }
						1 = { change_intrigue = 3 }
						1 = { change_martial = 3 }
					}
					random_list = {
						5 = { }
						15 = { add_trait = strong }
						30 = { add_trait = fair }
						3 = { add_trait = strong add_trait = fair }
					}
					random_list = {
						5 = { }
						15 = { add_trait = shrewd }
						30 = { add_trait = quick }
						3 = { add_trait = genius }
					}
					remove_education_effect = yes
					random_list = {
						10 = { add_trait = scholarly_theologian }
						20 = { add_trait = mastermind_theologian }
					}
					random_list = {
						10 = { change_learning = 2 }
						10 = { add_trait = theologian }
						10 = { add_trait = scholar }
						20 = { add_trait = mystic }
					}
					add_artifact = guillotines_for_a_humane_society
					add_trait = zealous
					if = {
						limit = { ROOT = { ai = yes } }
						wealth = 1000
					}
					if = {
						limit = { ROOT = { ai = no } }
						wealth = 250
					}
					create_title = {
						tier = DUKE
						landless = yes
						temporary = yes
						culture = ROOT
						name = JACOBINIST_REVOLUTION
						holder = THIS
					}
					create_character = {
						random_traits = yes
						dynasty = none
						religion = THIS
						culture = THIS
						female = no
						age = 30
						trait = brilliant_strategist
					}
					new_character = {
						if = {
							limit = { ROOT = { ai = yes } }
							spawn_unit = {
								province = PREVPREVPREV
								home = PREVPREVPREV
								owner = PREV
								match_character = PREVPREV
								match_mult = 0.25
								attrition = 0.5
								cannot_inherit = yes
								reinforces = yes
								reinforce_rate_multiplier = 0.33
							}
						}
						if = {
							limit = { ROOT = { ai = no } }
							spawn_unit = {
								province = PREVPREVPREV
								home = PREVPREVPREV
								owner = PREV
								match_character = PREVPREV
								match_mult = 0.15
								attrition = 0.5
								cannot_inherit = yes
								reinforces = yes
								reinforce_rate_multiplier = 0.25
							}
						}
					}
					create_character = {
						random_traits = yes
						dynasty = none
						religion = THIS
						culture = THIS
						female = no
						age = 27
						trait = brilliant_strategist
					}
					new_character = {
						if = {
							limit = { ROOT = { ai = yes } }
							spawn_unit = {
								province = PREVPREVPREV
								home = PREVPREVPREV
								owner = PREV
								match_character = PREVPREV
								match_mult = 0.25
								attrition = 0.5
								cannot_inherit = yes
								reinforces = yes
								reinforce_rate_multiplier = 0.33
							}
						}
						if = {
							limit = { ROOT = { ai = no } }
							spawn_unit = {
								province = PREVPREVPREV
								home = PREVPREVPREV
								owner = PREV
								match_character = PREVPREV
								match_mult = 0.15
								attrition = 0.5
								cannot_inherit = yes
								reinforces = yes
								reinforce_rate_multiplier = 0.25
							}
						}
					}
					create_character = {
						random_traits = yes
						dynasty = none
						religion = THIS
						culture = THIS
						female = no
						age = 25
						trait = skilled_tactician
					}
					new_character = {
						if = {
							limit = { ROOT = { ai = yes } }
							spawn_unit = {
								province = PREVPREVPREV
								home = PREVPREVPREV
								owner = PREV
								match_character = PREVPREV
								match_mult = 0.25
								attrition = 0.5
								cannot_inherit = yes
								reinforces = yes
								reinforce_rate_multiplier = 0.33
							}
						}
						if = {
							limit = { ROOT = { ai = no } }
							spawn_unit = {
								province = PREVPREVPREV
								home = PREVPREVPREV
								owner = PREV
								match_character = PREVPREV
								match_mult = 0.15
								attrition = 0.5
								cannot_inherit = yes
								reinforces = yes
								reinforce_rate_multiplier = 0.25
							}
						}
					}
					create_character = {
						random_traits = yes
						dynasty = none
						religion = THIS
						culture = THIS
						female = no
						age = 23
						trait = skilled_tactician
					}
					new_character = {
						if = {
							limit = { ROOT = { ai = yes } }
							spawn_unit = {
								province = PREVPREVPREV
								home = PREVPREVPREV
								owner = PREV
								match_character = PREVPREV
								match_mult = 0.25
								attrition = 0.5
								cannot_inherit = yes
								reinforces = yes
								reinforce_rate_multiplier = 0.33
							}
						}
						if = {
							limit = { ROOT = { ai = no } }
							spawn_unit = {
								province = PREVPREVPREV
								home = PREVPREVPREV
								owner = PREV
								match_character = PREVPREV
								match_mult = 0.15
								attrition = 0.5
								cannot_inherit = yes
								reinforces = yes
								reinforce_rate_multiplier = 0.25
							}
						}
					}
					create_character = {
						random_traits = yes
						dynasty = none
						religion = THIS
						culture = THIS
						female = no
						age = 27
						trait = skilled_tactician
					}
					new_character = {
						if = {
							limit = { ROOT = { ai = yes } }
							spawn_unit = {
								province = PREVPREVPREV
								home = PREVPREVPREV
								owner = PREV
								match_character = PREVPREV
								match_mult = 0.25
								attrition = 0.5
								cannot_inherit = yes
								disband_on_peace = yes
								reinforces = yes
								reinforce_rate_multiplier = 0.33
							}
						}
						if = {
							limit = { ROOT = { ai = no } }
							spawn_unit = {
								province = PREVPREVPREV
								home = PREVPREVPREV
								owner = PREV
								match_character = PREVPREV
								match_mult = 0.15
								attrition = 0.5
								cannot_inherit = yes
								disband_on_peace = yes
								reinforces = yes
								reinforce_rate_multiplier = 0.25
							}
						}
					}
					create_character = {
						random_traits = yes
						dynasty = none
						religion = THIS
						culture = THIS
						female = no
						age = 24
						trait = skilled_tactician
					}
					new_character = {
						if = {
							limit = { ROOT = { ai = yes } }
							spawn_unit = {
								province = PREVPREVPREV
								home = PREVPREVPREV
								owner = PREV
								match_character = PREVPREV
								match_mult = 0.25
								attrition = 0.5
								cannot_inherit = yes
								disband_on_peace = yes
								reinforces = yes
								reinforce_rate_multiplier = 0.33
							}
						}
						if = {
							limit = { ROOT = { ai = no } }
							spawn_unit = {
								province = PREVPREVPREV
								home = PREVPREVPREV
								owner = PREV
								match_character = PREVPREV
								match_mult = 0.15
								attrition = 0.5
								cannot_inherit = yes
								disband_on_peace = yes
								reinforces = yes
								reinforce_rate_multiplier = 0.25
							}
						}
					}
					create_character = {
						random_traits = yes
						dynasty = none
						religion = THIS
						culture = THIS
						female = no
						age = 32
						trait = brilliant_strategist
					}
					new_character = {
						spawn_unit = {
							province = PREVPREVPREV
							home = PREVPREVPREV
							owner = PREV
							match_character = PREVPREV
							match_mult = 0.2
							attrition = 0.0
							cannot_inherit = yes
							disband_on_peace = yes
							reinforces = yes
							reinforce_rate_multiplier = 0.25
						}
					}
					create_character = {
						random_traits = yes
						dynasty = none
						religion = THIS
						culture = THIS
						female = no
						age = 25
						trait = skilled_tactician
					}
					new_character = {
						spawn_unit = {
							province = PREVPREVPREV
							home = PREVPREVPREV
							owner = PREV
							match_character = PREVPREV
							match_mult = 0.2
							attrition = 0.0
							cannot_inherit = yes
							disband_on_peace = yes
							reinforces = yes
							reinforce_rate_multiplier = 0.25
						}
					}
					create_character = {
						random_traits = yes
						dynasty = none
						religion = THIS
						culture = THIS
						female = no
						age = 28
						trait = skilled_tactician
					}
					new_character = {
						spawn_unit = {
							province = PREVPREVPREV
							home = PREVPREVPREV
							owner = PREV
							match_character = PREVPREV
							match_mult = 0.2
							attrition = 0.0
							cannot_inherit = yes
							disband_on_peace = yes
							reinforces = yes
							reinforce_rate_multiplier = 0.25
						}
					}
					war = {
						target = ROOT
						casus_belli = jacobin_rising
						thirdparty_title = PREVPREV
						tier = KING
					}
					save_persistent_event_target = { name = jacobinist_revolution_target scope = PREVPREV }
					add_character_modifier = { name = jacobinist_revolution_leader duration = -1 }
				}
			}
		}
	}
	
	option = {
		name = "EVTOPTAJB1"
		trigger = {
			has_character_flag = jacobin_revolt 
		}
		clr_character_flag = jacobin_revolt
	}
	
	option = {
		name = "EVTOPTBJB1"
		trigger = {
			religion = jacobinist
		}
	}
	option = {
		name = "EVTOPTCJB1"
		trigger = {
			NOT = { religion = jacobinist }
			NOT = { has_character_flag = jacobin_revolt }
		}
	}
	option = {
		name = "EVTOPTDJB1"
		tooltip_info = yes
		trigger = {
			can_plays_as_invader_trigger = yes
		}
		clr_character_flag = jacobin_revolt
		play_as_jacobin_invasion_leader_effect = yes
	}
}

narrative_event = {##formation of Sans-Culottes
	id = jacobinists.5002
	title = "EVTNAME_sans_creation"
	desc = "EVTDESC_sans_creation"
	picture = "GFX_evt_market"
	border = "GFX_event_narrative_frame_religion"
	
	major = yes
	only_playable = yes
	
	religion = jacobinist
	
	trigger = {
		NOT = { #immersion-breaking
			has_alternate_start_parameter = { key = religion_names value = random }
		}
		has_global_flag = jacobin_revolt_successful
		NOT = { is_title_active = d_sans_culottes }
	}
	
	mean_time_to_happen = {
		months = 6
	}
	
	immediate = {
		activate_title = { title = d_sans_culottes status = yes }
		create_character = {
			dynasty = none
			random_traits = yes
			trait = zealous
			trait = brilliant_strategist
			trait = peasant_leader
			religion = jacobinist
			culture = french
		}
		new_character = {

			d_sans_culottes = {
				grant_title = PREV
			}
			wealth = 500
		}
		
		religion_authority = {
			modifier = religious_order_formed
			years = 10
		}
	}
	option = {
		name = "EVTOPTA_sans_creation"
		trigger = {
			religion = jacobinist
		}
	}
	option = {
		name = "EVTOPTB_sans_creation"
		trigger = {
			NOT = { religion = jacobinist }
		}
	}
}