
#####################################################
##### Warrior Lodge work...
#####################################################


is_member_of_roots_warrior_lodge_trigger = {
	custom_tooltip = {
		text = is_member_of_roots_warrior_lodge_tt
		hidden_trigger = {
			is_member_of_any_warrior_lodge_trigger = yes
			same_society_as = ROOT
		}
	}
}

is_member_of_any_warrior_lodge_trigger = {
	custom_tooltip = {
		text = is_member_of_any_warrior_lodge_tt
		hidden_trigger = {
			OR = {
				society_member_of = warrior_lodge_esoteric
				society_member_of = warrior_lodge_khanist
				society_member_of = warrior_lodge_ironist
				society_member_of = warrior_lodge_baltic
				society_member_of = warrior_lodge_finnish
				society_member_of = warrior_lodge_folklorist
				society_member_of = warrior_lodge_naxalite
				society_member_of = warrior_lodge_bon
				society_member_of = warrior_lodge_hellenic
				society_member_of = warrior_lodge_sikh
				society_member_of = warrior_lodge_novelist
				society_member_of = warrior_lodge_zarist
				society_member_of = warrior_lodge_celtic_pagan
				society_member_of = warrior_lodge_mesopotamian
			}
		}
	}
}


has_any_warrior_lodge_training_trait_trigger = {
	OR = {
		trait = norse_leader
		trait = tengri_leader
		trait = baltic_leader
		trait = finnish_leader
		trait = slavic_leader
		trait = west_african_leader
		trait = zun_leader
		trait = bon_leader
		trait = hellenic_leader
	}
}

has_current_warrior_lodge_leader_trait_trigger = {
	custom_tooltip = {
		text = has_warrior_training_with_current_society_tt
		OR = {
			AND = {
				trait = norse_leader
				society_member_of = warrior_lodge_norse
			}
			AND = {
				trait = tengri_leader
				society_member_of = warrior_lodge_tengri
			}
			AND = {
				trait = baltic_leader
				society_member_of = warrior_lodge_baltic
			}
			AND = {
				trait = finnish_leader
				society_member_of = warrior_lodge_finnish
			}
			AND = {
				trait = slavic_leader
				society_member_of = warrior_lodge_slavic
			}
			AND = {
				trait = west_african_leader
				society_member_of = warrior_lodge_west_african
			}
			AND = {
				trait = zun_leader
				society_member_of = warrior_lodge_zun
			}
			AND = {
				trait = bon_leader
				society_member_of = warrior_lodge_bon
			}
			AND = {
				trait = hellenic_leader
				society_member_of = warrior_lodge_hellenic
			}
		}
	}
}

has_religion_matching_joined_warrior_lodge_trigger = {
	custom_tooltip = {
		text = has_religion_matching_joined_warrior_lodge_tt
		OR = {
			AND = {
				is_esoteric_religion_trigger = yes
				society_member_of = warrior_lodge_esoteric
			}
			AND = {
				is_khanist_religion_trigger = yes
				society_member_of = warrior_lodge_khanist
			}
			AND = {
				is_ironist_religion_trigger = yes
				society_member_of = warrior_lodge_ironist
			}
			AND = {
				religion_openly_baltic_or_reformed_trigger = yes
				society_member_of = warrior_lodge_baltic
			}
			AND = {
				religion_openly_finnish_or_reformed_trigger = yes
				society_member_of = warrior_lodge_finnish
			}
			AND = {
				religion_openly_folklorist_or_reformed_trigger = yes
				society_member_of = warrior_lodge_folklorist
			}
			AND = {
				religion_openly_naxalite_or_reformed_trigger = yes
				society_member_of = warrior_lodge_naxalite
			}
			AND = {
				religion_openly_bon_or_reformed_trigger = yes
				society_member_of = warrior_lodge_bon
			}
			AND = {
				religion_openly_hellenic_or_reformed_trigger = yes
				society_member_of = warrior_lodge_hellenic
			}
			AND = {
				is_sikh_religion_trigger = yes
				society_member_of = warrior_lodge_sikh
			}
			AND = {
				religion_openly_novelist_or_reformed_trigger = yes
				society_member_of = warrior_lodge_novelist
			}
			AND = {
				is_zarist_religion_trigger = yes
				society_member_of = warrior_lodge_zarist
			}
			AND = {
				religion_openly_celtic_pagan_or_reformed_trigger = yes
				society_member_of = warrior_lodge_celtic_pagan
			}
			AND = {
				is_mesopotamian_religion_trigger = yes
				society_member_of = warrior_lodge_mesopotamian
			}
		}
	}
}

has_religion_matching_available_warrior_lodge_trigger = {
	OR = {
		AND = {
			is_esoteric_religion_trigger = yes
			warrior_lodge_esoteric = { society_has_members = yes }
		}
		AND = {
			is_khanist_religion_trigger = yes
			warrior_lodge_khanist = { society_has_members = yes }
		}
		AND = {
			is_ironist_religion_trigger = yes
			warrior_lodge_ironist = { society_has_members = yes }
		}
		AND = {
			religion_openly_baltic_or_reformed_trigger = yes
			warrior_lodge_baltic = { society_has_members = yes }
		}
		AND = {
			religion_openly_finnish_or_reformed_trigger = yes
			warrior_lodge_finnish = { society_has_members = yes }
		}
		AND = {
			religion_openly_folklorist_or_reformed_trigger = yes
			warrior_lodge_folklorist = { society_has_members = yes }
		}
		AND = {
			religion_openly_naxalite_or_reformed_trigger = yes
			warrior_lodge_naxalite = { society_has_members = yes }
		}
		AND = {
			religion_openly_bon_or_reformed_trigger = yes
			warrior_lodge_bon = { society_has_members = yes }
		}
		AND = {
			religion_openly_hellenic_or_reformed_trigger = yes
			warrior_lodge_hellenic = { society_has_members = yes }
		}
		AND = {
			is_sikh_religion_trigger = yes
			warrior_lodge_sikh = { society_has_members = yes }
		}
		AND = {
			religion_openly_novelist_or_reformed_trigger = yes
			warrior_lodge_novelist = { society_has_members = yes }
		}
		AND = {
			is_zarist_religion_trigger = yes
			warrior_lodge_zarist = { society_has_members = yes }
		}
		AND = {
			religion_openly_celtic_pagan_or_reformed_trigger = yes
			warrior_lodge_celtic_pagan = { society_has_members = yes }
		}
		AND = {
			is_mesopotamian_religion_trigger = yes
			warrior_lodge_mesopotamian = { society_has_members = yes }
		}
	}
}

has_religion_matching_warrior_lodge_in_need_of_members_trigger = {
	OR = {
		AND = {
			is_esoteric_religion_trigger = yes
			warrior_lodge_esoteric = { num_of_society_members < 30 }
		}
		AND = {
			OR = {
				is_khanist_religion_trigger = yes
				is_nomadic = yes
			}
			warrior_lodge_khanist = { num_of_society_members < 30 }
		}
		AND = {
			OR = {
				is_ironist_religion_trigger = yes
				is_nomadic = yes
			}
			warrior_lodge_ironist = { num_of_society_members < 30 }
		}
		AND = {
			religion_openly_baltic_or_reformed_trigger = yes
			warrior_lodge_baltic = { num_of_society_members < 30 }
		}
		AND = {
			religion_openly_finnish_or_reformed_trigger = yes
			warrior_lodge_finnish = { num_of_society_members < 30 }
		}
		AND = {
			religion_openly_folklorist_or_reformed_trigger = yes
			warrior_lodge_folklorist = { num_of_society_members < 30 }
		}
		AND = {
			religion_openly_naxalite_or_reformed_trigger = yes
			warrior_lodge_naxalite = { num_of_society_members < 30 }
		}
		AND = {
			religion_openly_bon_or_reformed_trigger = yes
			warrior_lodge_bon = { num_of_society_members < 30 }
		}
		AND = {
			religion_openly_hellenic_or_reformed_trigger = yes
			warrior_lodge_hellenic = { num_of_society_members < 30 }
		}
		AND = {
			is_sikh_religion_trigger = yes
			warrior_lodge_sikh = { num_of_society_members < 30 }
		}
		AND = {
			religion_openly_novelist_or_reformed_trigger = yes
			warrior_lodge_novelist = { num_of_society_members < 30 }
		}
		AND = {
			is_zarist_religion_trigger = yes
			warrior_lodge_zarist = { num_of_society_members < 30 }
		}
		AND = {
			religion_openly_celtic_pagan_or_reformed_trigger = yes
			warrior_lodge_celtic_pagan = { num_of_society_members < 30 }
		}
		AND = {
			is_mesopotamian_religion_trigger = yes
			warrior_lodge_mesopotamian = { num_of_society_members < 30 }
		}
	}
}
has_religion_matching_empty_warrior_lodge_trigger = {
	OR = {
		AND = {
			is_esoteric_religion_trigger = yes
			NOT = { warrior_lodge_esoteric = { society_has_members = yes } }
		}
		AND = {
			is_khanist_religion_trigger = yes
			NOT = { warrior_lodge_khanist = { society_has_members = yes } }
		}
		AND = {
			is_ironist_religion_trigger = yes
			NOT = { warrior_lodge_ironist = { society_has_members = yes } }
		}
		AND = {
			religion_openly_baltic_or_reformed_trigger = yes
			NOT = { warrior_lodge_baltic = { society_has_members = yes } }
		}
		AND = {
			religion_openly_finnish_or_reformed_trigger = yes
			NOT = { warrior_lodge_finnish = { society_has_members = yes } }
		}
		AND = {
			religion_openly_folklorist_or_reformed_trigger = yes
			NOT = { warrior_lodge_folklorist = { society_has_members = yes } }
		}
		AND = {
			religion_openly_naxalite_or_reformed_trigger = yes
			NOT = { warrior_lodge_naxalite = { society_has_members = yes } }
		}
		AND = {
			religion_openly_bon_or_reformed_trigger = yes
			NOT = { warrior_lodge_bon = { society_has_members = yes } }
		}
		AND = {
			religion_openly_hellenic_or_reformed_trigger = yes
			NOT = { warrior_lodge_hellenic = { society_has_members = yes } }
		}
		AND = {
			is_sikh_religion_trigger = yes
			NOT = { warrior_lodge_sikh = { society_has_members = yes } }
		}
		AND = {
			religion_openly_novelist_or_reformed_trigger = yes
			NOT = { warrior_lodge_novelist = { society_has_members = yes } }
		}
		AND = {
			is_zarist_religion_trigger = yes
			NOT = { warrior_lodge_zarist = { society_has_members = yes } }
		}
		AND = {
			religion_openly_celtic_pagan_or_reformed_trigger = yes
			NOT = { warrior_lodge_celtic_pagan = { society_has_members = yes } }
		}
		AND = {
			is_mesopotamian_religion_trigger = yes
			NOT = { warrior_lodge_mesopotamian = { society_has_members = yes } }
		}
	}
}

#Can be used on a character too -- will then default to look at the society a character is member of.
this_society_is_a_warrior_lodge_trigger = {
	OR = {
		is_society = warrior_lodge_esoteric
		is_society = warrior_lodge_khanist
		is_society = warrior_lodge_ironist
		is_society = warrior_lodge_baltic
		is_society = warrior_lodge_finnish
		is_society = warrior_lodge_folklorist
		is_society = warrior_lodge_naxalite
		is_society = warrior_lodge_bon
		is_society = warrior_lodge_hellenic
		is_society = warrior_lodge_sikh
		is_society = warrior_lodge_novelist
		is_society = warrior_lodge_zarist
		is_society = warrior_lodge_celtic_pagan
		is_society = warrior_lodge_mesopotamian
	}
}

has_religion_matching_any_warrior_lodge_trigger = {
	OR = {
		is_esoteric_religion_trigger = yes
		is_khanist_religion_trigger = yes
		is_ironist_religion_trigger = yes
		religion_openly_baltic_or_reformed_trigger = yes
		religion_openly_finnish_or_reformed_trigger = yes
		religion_openly_folklorist_or_reformed_trigger = yes
		religion_openly_naxalite_or_reformed_trigger = yes
		religion_openly_bon_or_reformed_trigger = yes
		religion_openly_hellenic_or_reformed_trigger = yes
		is_sikh_religion_trigger = yes
		religion_openly_novelist_or_reformed_trigger = yes
		is_zarist_religion_trigger = yes
		religion_openly_celtic_pagan_or_reformed_trigger = yes
		is_mesopotamian_religion_trigger = yes
	}
}

has_religion_matching_warrior_lodge_to_revive_trigger = {
	OR = {
		AND = {
			is_esoteric_religion_trigger = yes
			event_target:warrior_lodge_to_revive = { is_society = warrior_lodge_esoteric }
		}
		AND = {
			is_khanist_religion_trigger = yes
			event_target:warrior_lodge_to_revive = { is_society = warrior_lodge_khanist }
		}
		AND = {
			is_ironist_religion_trigger = yes
			event_target:warrior_lodge_to_revive = { is_society = warrior_lodge_ironist }
		}
		AND = {
			religion_openly_baltic_or_reformed_trigger = yes
			event_target:warrior_lodge_to_revive = { is_society = warrior_lodge_baltic }
		}
		AND = {
			religion_openly_finnish_or_reformed_trigger = yes
			event_target:warrior_lodge_to_revive = { is_society = warrior_lodge_finnish }
		}
		AND = {
			religion_openly_folklorist_or_reformed_trigger = yes
			event_target:warrior_lodge_to_revive = { is_society = warrior_lodge_folklorist }
		}
		AND = {
			religion_openly_naxalite_or_reformed_trigger = yes
			event_target:warrior_lodge_to_revive = { is_society = warrior_lodge_naxalite }
		}
		AND = {
			religion_openly_bon_or_reformed_trigger = yes
			event_target:warrior_lodge_to_revive = { is_society = warrior_lodge_bon }
		}
		AND = {
			religion_openly_hellenic_or_reformed_trigger = yes
			event_target:warrior_lodge_to_revive = { is_society = warrior_lodge_hellenic }
		}
		AND = {
			is_sikh_religion_trigger = yes
			event_target:warrior_lodge_to_revive = { is_society = warrior_lodge_sikh }
		}
		AND = {
			religion_openly_novelist_or_reformed_trigger = yes
			event_target:warrior_lodge_to_revive = { is_society = warrior_lodge_novelist }
		}
		AND = {
			is_zarist_religion_trigger = yes
			event_target:warrior_lodge_to_revive = { is_society = warrior_lodge_zarist }
		}
		AND = {
			religion_openly_celtic_pagan_or_reformed_trigger = yes
			event_target:warrior_lodge_to_revive = { is_society = warrior_lodge_celtic_pagan }
		}
		AND = {
			is_mesopotamian_religion_trigger = yes
			event_target:warrior_lodge_to_revive = { is_society = warrior_lodge_mesopotamian }
		}
	}
}

special_join_warrior_lodge_trigger = {
	custom_tooltip = {
		text = special_join_warrior_lodge_trigger_tt
		OR = {
			AND = {
				FROM = { is_society = warrior_lodge_esoteric }
				custom_tooltip = {
					text = has_liege_vassal_or_neighbor_of_esoteric_religion_tt
					hidden_trigger = {
						OR = {
							any_vassal = { is_esoteric_religion_trigger = yes }
							any_liege = { is_esoteric_religion_trigger = yes }
							any_neighbor_independent_ruler = { is_esoteric_religion_trigger = yes }
						}
					}
				}
			}
			AND = {
				FROM = { is_society = warrior_lodge_khanist }
				custom_tooltip = {
					text = has_liege_vassal_or_neighbor_of_khanist_religion_tt
					hidden_trigger = {
						OR = {
							any_vassal = { is_khanist_religion_trigger = yes }
							any_liege = { is_khanist_religion_trigger = yes }
							any_neighbor_independent_ruler = { is_khanist_religion_trigger = yes }
						}
					}
				}
			}
			AND = {
				FROM = { is_society = warrior_lodge_ironist }
				custom_tooltip = {
					text = has_liege_vassal_or_neighbor_of_ironist_religion_tt
					hidden_trigger = {
						OR = {
							any_vassal = { is_ironist_religion_trigger = yes }
							any_liege = { is_ironist_religion_trigger = yes }
							any_neighbor_independent_ruler = { is_ironist_religion_trigger = yes }
						}
					}
				}
			}
			AND = {
				FROM = { is_society = warrior_lodge_baltic }
				custom_tooltip = {
					text = has_liege_vassal_or_neighbor_of_baltic_religion_tt
					hidden_trigger = {
						OR = {
							any_vassal = { religion_openly_baltic_or_reformed_trigger = yes }
							any_liege = { religion_openly_baltic_or_reformed_trigger = yes }
							any_neighbor_independent_ruler = { religion_openly_baltic_or_reformed_trigger = yes }
						}
					}
				}
			}
			AND = {
				FROM = { is_society = warrior_lodge_finnish }
				custom_tooltip = {
					text = has_liege_vassal_or_neighbor_of_finnish_religion_tt
					hidden_trigger = {
						OR = {
							any_vassal = { religion_openly_finnish_or_reformed_trigger = yes }
							any_liege = { religion_openly_finnish_or_reformed_trigger = yes }
							any_neighbor_independent_ruler = { religion_openly_finnish_or_reformed_trigger = yes }
						}
					}
				}
			}
			AND = {
				FROM = { is_society = warrior_lodge_folklorist }
				custom_tooltip = {
					text = has_liege_vassal_or_neighbor_of_folklorist_religion_tt
					hidden_trigger = {
						OR = {
							any_vassal = { religion_openly_folklorist_or_reformed_trigger = yes }
							any_liege = { religion_openly_folklorist_or_reformed_trigger = yes }
							any_neighbor_independent_ruler = { religion_openly_folklorist_or_reformed_trigger = yes }
						}
					}
				}
			}
			AND = {
				FROM = { is_society = warrior_lodge_naxalite }
				custom_tooltip = {
					text = has_liege_vassal_or_neighbor_of_naxalite_religion_tt
					hidden_trigger = {
						OR = {
							any_vassal = { religion_openly_naxalite_or_reformed_trigger = yes }
							any_liege = { religion_openly_naxalite_or_reformed_trigger = yes }
							any_neighbor_independent_ruler = { religion_openly_naxalite_or_reformed_trigger = yes }
						}
					}
				}
			}
			AND = {
				FROM = { is_society = warrior_lodge_bon }
				custom_tooltip = {
					text = has_liege_vassal_or_neighbor_of_bon_religion_tt
					hidden_trigger = {
						OR = {
							any_vassal = { religion_openly_bon_or_reformed_trigger = yes }
							any_liege = { religion_openly_bon_or_reformed_trigger = yes }
							any_neighbor_independent_ruler = { religion_openly_bon_or_reformed_trigger = yes }
						}
					}
				}
			}
			AND = {
				FROM = { is_society = warrior_lodge_hellenic }
				custom_tooltip = {
					text = has_liege_vassal_or_neighbor_of_hellenic_religion_tt
					hidden_trigger = {
						OR = {
							any_vassal = { religion_openly_hellenic_or_reformed_trigger = yes }
							any_liege = { religion_openly_hellenic_or_reformed_trigger = yes }
							any_neighbor_independent_ruler = { religion_openly_hellenic_or_reformed_trigger = yes }
						}
					}
				}
			}
			AND = {
				FROM = { is_society = warrior_lodge_sikh }
				custom_tooltip = {
					text = has_liege_vassal_or_neighbor_of_sikh_religion_tt
					hidden_trigger = {
						OR = {
							any_vassal = { is_sikh_religion_trigger = yes }
							any_liege = { is_sikh_religion_trigger = yes }
							any_neighbor_independent_ruler = { is_sikh_religion_trigger = yes }
						}
					}
				}
			}
			AND = {
				FROM = { is_society = warrior_lodge_novelist }
				custom_tooltip = {
					text = has_liege_vassal_or_neighbor_of_novelist_religion_tt
					hidden_trigger = {
						OR = {
							any_vassal = { religion_openly_novelist_or_reformed_trigger = yes }
							any_liege = { religion_openly_novelist_or_reformed_trigger = yes }
							any_neighbor_independent_ruler = { religion_openly_novelist_or_reformed_trigger = yes }
						}
					}
				}
			}
			AND = {
				FROM = { is_society = warrior_lodge_zarist }
				custom_tooltip = {
					text = has_liege_vassal_or_neighbor_of_zarist_religion_tt
					hidden_trigger = {
						OR = {
							any_vassal = { is_zarist_religion_trigger = yes }
							any_liege = { is_zarist_religion_trigger = yes }
							any_neighbor_independent_ruler = { is_zarist_religion_trigger = yes }
						}
					}
				}
			}
			AND = {
				FROM = { is_society = warrior_lodge_celtic_pagan }
				custom_tooltip = {
					text = has_liege_vassal_or_neighbor_of_celtic_pagan_religion_tt
					hidden_trigger = {
						OR = {
							any_vassal = { religion_openly_celtic_pagan_or_reformed_trigger = yes }
							any_liege = { religion_openly_celtic_pagan_or_reformed_trigger = yes }
							any_neighbor_independent_ruler = { religion_openly_celtic_pagan_or_reformed_trigger = yes }
						}
					}
				}
			}
			AND = {
				FROM = { is_society = warrior_lodge_mesopotamian }
				custom_tooltip = {
					text = has_liege_vassal_or_neighbor_of_mesopotamian_religion_tt
					hidden_trigger = {
						OR = {
							any_vassal = { is_mesopotamian_religion_trigger = yes }
							any_liege = { is_mesopotamian_religion_trigger = yes }
							any_neighbor_independent_ruler = { is_mesopotamian_religion_trigger = yes }
						}
					}
				}
			}
		}
	}
}

is_available_fellow_society_member_trigger = {
	same_society_as = ROOT
    NOR = {
		is_inaccessible_or_incapable_trigger = yes #in prison, incapable, etc...
		character = ROOT
		has_character_flag = do_not_disturb
	}
	in_command = no
}