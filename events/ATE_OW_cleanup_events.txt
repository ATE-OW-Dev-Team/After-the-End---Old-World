namespace=cleanup

character_event = { # Give Indian characters appropriate schools at game start
	id = cleanup.1
	hide_window = yes

	is_triggered_only = yes
	
	trigger = {
		OR = {
			religion = bharatva
			religion = neovedantic
		}
		is_landed = yes#to keep it simple, we'll make all unlanded courtiers forcibly convert to the same school as their liege
		is_save_game = no#shouldn't happen when you reload a save
	}
	immediate = {
		remove_trait = shaivist_hindu
		remove_trait = shaktist_hindu
		remove_trait = vaishnavist_hindu
		remove_trait = smartist_hindu
		remove_trait = barata_ganda_hindu
		remove_trait = savarkari_hindu
		remove_trait = aryasamajist_hindu
		remove_trait = vaishna_ganda_hindu
		remove_trait = brahamo_hindu
		remove_trait = ramakrishna_hindu
		
		if = {
			limit = {
				is_adult = yes
			}
		if = {
			limit = {
				religion = neovedantic
			}
			random_list = {
				25 = {
					add_trait = vaishna_ganda_hindu
					any_courtier = {
						limit = {
							religion = neovedantic
						}
						add_trait = vaishna_ganda_hindu
					}
				}
				25 = {
					add_trait = brahamo_hindu
					any_courtier = {
						limit = {
							religion = neovedantic
						}					
						add_trait = brahamo_hindu
					}					
				}
				25 = {
					add_trait = ramakrishna_hindu
					any_courtier = {
						limit = {
							religion = neovedantic
						}					
						add_trait = ramakrishna_hindu
					}
				}
				15 = {
					add_trait = shaktist_hindu
					any_courtier = {
						limit = {
							religion = neovedantic
						}					
						add_trait = shaktist_hindu
					}
				}
				15 = {
					add_trait = smartist_hindu
					any_courtier = {
						limit = {
							religion = neovedantic
						}					
						add_trait = smartist_hindu
					}
				}
			}
		}
		if = {
			limit = {
				religion = bharatva
			}
			random_list = {
				25 = {
					add_trait = barata_ganda_hindu
					any_courtier = {
						limit = {
							religion = bharatva
						}
						add_trait = barata_ganda_hindu
					}
				}
				25 = {
					add_trait = savarkari_hindu
					any_courtier = {
						limit = {
							religion = bharatva
						}					
						add_trait = savarkari_hindu
					}
				}
				25 = {
					add_trait = aryasamajist_hindu
					any_courtier = {
						limit = {
							religion = bharatva
						}					
						add_trait = aryasamajist_hindu
					}
				}
				15 = {
					add_trait = shaivist_hindu
					any_courtier = {
						limit = {
							religion = bharatva
						}					
						add_trait = shaivist_hindu
					}
				}
				15 = {
					add_trait = vaishnavist_hindu
					any_courtier = {
						limit = {
							religion = bharatva
						}					
						add_trait = vaishnavist_hindu
					}
				}
			}
		}
	   }
	   else = {#this event can also fire for Indian kids being born, so if the character that gets this event isn't an adult, it's assumed it's to give the same trait as the father
		if = {
			limit = {
				father_even_if_dead = {
					has_trait = vaishna_ganda_hindu
				}
				add_trait = vaishna_ganda_hindu
			}
		}
		if = {
			limit = {
				father_even_if_dead = {
					has_trait = brahamo_hindu
				}
				add_trait = brahamo_hindu
			}
		}	
		if = {
			limit = {
				father_even_if_dead = {
					has_trait = ramakrishna_hindu
				}
				add_trait = ramakrishna_hindu
			}
		}
		if = {
			limit = {
				father_even_if_dead = {
					has_trait = barata_ganda_hindu
				}
				add_trait = barata_ganda_hindu
			}
		}
		if = {
			limit = {
				father_even_if_dead = {
					has_trait = savarkari_hindu
				}
				add_trait = savarkari_hindu
			}
		}
		if = {
			limit = {
				father_even_if_dead = {
					has_trait = aryasamajist_hindu
				}
				add_trait = aryasamajist_hindu
			}
		}
		if = {
			limit = {
				father_even_if_dead = {
					has_trait = shaivist_hindu
				}
				add_trait = shaivist_hindu
			}
		}
		if = {
			limit = {
				father_even_if_dead = {
					has_trait = shaktist_hindu
				}
				add_trait = shaktist_hindu
			}
		}
		if = {
			limit = {
				father_even_if_dead = {
					has_trait = vaishnavist_hindu
				}
				add_trait = vaishnavist_hindu
			}
		}
		if = {
			limit = {
				father_even_if_dead = {
					has_trait = smartist_hindu
				}
				add_trait = smartist_hindu
			}
		}			
	   }
	}
}

character_event = {#sets the irish revolter with the irish_revolter character flag
	id = cleanup.4
	hide_window = yes
	
	is_triggered_only = yes
	
	trigger = {
		primary_title = { title = k_irish_rebels }
		is_save_game = no
	}
	immediate = {
		set_character_flag = irish_revolter
		save_event_target_as = rebel_leader
	}
}
character_event = {#ensures each newly formed Oligarchic Republic has the Oligarchic Elective government
	id = cleanup.5
	hide_window = yes
	
	is_triggered_only = yes
	
	trigger = {
		government = oligarchic_republic
		NOT = { primary_title = { has_law = succ_oligarchic_elective } }
	}
	immediate = {
		primary_title = { add_law = succ_oligarchic_elective }
	}
}
character_event = {
	id = cleanup.10
	desc = "DEBUG"
	hide_window = yes
	only_rulers = yes
	trigger = {
		NOT = { religion_group = jewish_group }
		has_earmarked_regiments = jewish_colony_troops
	}
	mean_time_to_happen = {
		days = 1
	}
	immediate = {
		disband_event_forces = jewish_colony_troops
	}
}